{"ast":null,"code":"import _objectSpread from \"D:/eway/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\eway\\\\src\\\\pages\\\\Promotion\\\\CreatePromotion\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from 'primereact/button';\nimport { Steps } from 'primereact/steps';\nimport { Header } from './header';\nimport { Rule } from './rule';\nimport { useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { PromotionService } from '../../../service/PromotionService';\nimport { ToastContext } from \"../../../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var CreatePromotion = function CreatePromotion() {\n  _s();\n\n  var _useTranslation = useTranslation('common'),\n      _useTranslation2 = _slicedToArray(_useTranslation, 1),\n      t = _useTranslation2[0];\n\n  var toast = useContext(ToastContext);\n  var history = useHistory();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      productIds = _useState2[0],\n      setProductIds = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      productQuantitys = _useState4[0],\n      setProductQuantitys = _useState4[1];\n\n  var promotionService = new PromotionService();\n  var schema = yup.object().shape({\n    itemDescription: yup.string().required(t('valid.validFieldRequire')),\n    productStoreId: yup.object().nullable().required(t('valid.validFieldRequire')),\n    fromDate: yup.date().nullable().required(t('valid.validFieldRequire')),\n    serviceRegisterId: yup.object().nullable().required(t('valid.validFieldRequire')),\n    partyClassificationId: yup.object().nullable().when('serviceRegisterId', function (serviceRegisterId, schema) {\n      return serviceRegisterId && ['GroupCustomerPromotion'].includes(serviceRegisterId.code) ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    customerId: yup.object().nullable().when('serviceRegisterId', function (serviceRegisterId, schema) {\n      return serviceRegisterId && ['CustomerPromotion'].includes(serviceRegisterId.code) ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    grandTotalFrom: yup.number().nullable().when('serviceRegisterId', function (serviceRegisterId, schema) {\n      return serviceRegisterId && ['EveryXGrandTotalPromotion', 'GrandTotalPromotion', 'GrandTotalProductPromotion'].includes(serviceRegisterId.code) ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    productId: yup.object().nullable().when('serviceRegisterId', function (serviceRegisterId, schema) {\n      return serviceRegisterId && ['TotalQuantityProductPromotion', 'EveryXAmountProductPromotion', 'GrandTotalProductPromotion', 'EveryXQuantityProductPromotion'].includes(serviceRegisterId.code) ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    productQuantity: yup.number().nullable().when('serviceRegisterId', function (serviceRegisterId, schema) {\n      return serviceRegisterId && ['EveryXQuantityProductPromotion'].includes(serviceRegisterId.code) ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    productQuantityFrom: yup.number().nullable().when('serviceRegisterId', function (serviceRegisterId, schema) {\n      return serviceRegisterId && ['TotalQuantityProductPromotion'].includes(serviceRegisterId.code) ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    productAmount: yup.number().nullable().when('serviceRegisterId', function (serviceRegisterId, schema) {\n      return serviceRegisterId && ['EveryXAmountProductPromotion'].includes(serviceRegisterId.code) ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    policy: yup.object().nullable().required(t('valid.validFieldRequire')),\n    discountValue: yup.number().nullable().when('policy', function (policy, schema) {\n      return policy != null && policy.code === 'orderDiscount' ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    discountPercent: yup.number().nullable().when('policy', function (policy, schema) {\n      return policy != null && policy.code === 'orderDiscountPercent' ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    discountProductId: yup.object().nullable().when('policy', function (policy, schema) {\n      return policy != null && policy.code === 'gift' ? schema.required(t('valid.validFieldRequire')) : schema;\n    }),\n    discountProductQuantity: yup.number().nullable().when('policy', function (policy, schema) {\n      return policy != null && policy.code === 'gift' ? schema.required(t('valid.validFieldRequire')) : schema;\n    })\n  });\n  var defaultValues = {\n    itemDescription: '',\n    productStoreId: null,\n    fromDate: null,\n    thruDate: null,\n    sequenceNum: '',\n    requireCode: null,\n    useLimitPerOrder: null,\n    useLimitPerCustomer: null,\n    useLimitPerPromotion: null,\n    serviceRegisterId: null,\n    policy: null,\n    partyClassificationId: null,\n    customerId: null,\n    grandTotalFrom: null,\n    grandTotalTo: null,\n    productId: null,\n    productQuantity: null,\n    productQuantityFrom: null,\n    productQuantityTo: null,\n    productAmount: null,\n    discountValue: null,\n    discountPercent: null,\n    discountProductId: null,\n    discountProductQuantity: null\n  };\n\n  var _useForm = useForm({\n    defaultValues: defaultValues,\n    resolver: yupResolver(schema)\n  }),\n      control = _useForm.control,\n      _useForm$formState = _useForm.formState,\n      errors = _useForm$formState.errors,\n      isSubmitting = _useForm$formState.isSubmitting,\n      handleSubmit = _useForm.handleSubmit,\n      setError = _useForm.setError,\n      clearErrors = _useForm.clearErrors,\n      getValues = _useForm.getValues;\n\n  var items = [{\n    label: t('promotion.basicInformation')\n  }, {\n    label: t('promotion.ruleInformation')\n  }, {\n    label: t('promotion.confirmation')\n  }];\n\n  var onSubmit = function onSubmit(data) {\n    var _data$partyClassifica, _data$customerId, _data$productId, _data$discountProduct, _data$productStoreId, _data$serviceRegister, _data$requireCode;\n\n    var ids = [],\n        quantitys = [],\n        count = 0;\n\n    for (var i = 0; i < productIds.length; i++) {\n      if (productIds[i] && productQuantitys[i] && productQuantitys[i] !== -1) {\n        ids[count] = productIds[i].code;\n        quantitys[count] = productQuantitys[i];\n        count++;\n      }\n    }\n\n    var params = _objectSpread(_objectSpread({}, data), {}, {\n      partyClassificationId: (_data$partyClassifica = data.partyClassificationId) === null || _data$partyClassifica === void 0 ? void 0 : _data$partyClassifica.code,\n      customerId: (_data$customerId = data.customerId) === null || _data$customerId === void 0 ? void 0 : _data$customerId.code,\n      productId: (_data$productId = data.productId) === null || _data$productId === void 0 ? void 0 : _data$productId.code,\n      discountProductId: (_data$discountProduct = data.discountProductId) === null || _data$discountProduct === void 0 ? void 0 : _data$discountProduct.code,\n      productStoreId: (_data$productStoreId = data.productStoreId) === null || _data$productStoreId === void 0 ? void 0 : _data$productStoreId.code,\n      serviceRegisterId: (_data$serviceRegister = data.serviceRegisterId) === null || _data$serviceRegister === void 0 ? void 0 : _data$serviceRegister.code,\n      requireCode: (_data$requireCode = data.requireCode) === null || _data$requireCode === void 0 ? void 0 : _data$requireCode.code,\n      productIds: ids,\n      productQuantitys: quantitys\n    });\n\n    promotionService.createPromotion(params).then(function (data) {\n      if (data.storePromotionId) {\n        history.push(\"/sales/promotion/detail/\" + data.storePromotionId);\n      }\n    }).catch(function (err) {\n      toast.current.show({\n        severity: 'error',\n        summary: 'Error Message',\n        detail: err.response.data.errors,\n        life: 5000\n      });\n    });\n  };\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      activeIndex = _useState6[0],\n      setActiveIndex = _useState6[1];\n\n  var validate = function validate(name) {\n    var flag = true;\n\n    try {\n      yup.reach(schema, name).validateSync(control._formValues[name]);\n      clearErrors(name);\n    } catch (error) {\n      setError(name, {\n        type: \"manual\",\n        message: error.message\n      });\n      flag = false;\n    }\n\n    return flag;\n  };\n\n  var next = function next(e) {\n    var flag = true;\n    flag = validate('itemDescription') ? flag : false;\n    flag = validate('productStoreId') ? flag : false;\n    flag = validate('fromDate') ? flag : false;\n\n    if (activeIndex < 2 && flag) {\n      setActiveIndex(activeIndex + 1);\n    }\n  };\n\n  var previous = function previous(e) {\n    if (activeIndex > 0) {\n      setActiveIndex(activeIndex - 1);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-grid\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-col-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: t('promotion.createPromotion')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Steps, {\n          model: items,\n          activeIndex: activeIndex\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, _this), activeIndex === 0 && /*#__PURE__*/_jsxDEV(Header, {\n          control: control,\n          errors: errors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 33\n        }, _this), activeIndex === 1 && /*#__PURE__*/_jsxDEV(Rule, {\n          control: control,\n          errors: errors,\n          getValues: getValues,\n          productIds: productIds,\n          setProductIds: setProductIds,\n          productQuantitys: productQuantitys,\n          setProductQuantitys: setProductQuantitys\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-12 p-md-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-12 p-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-3\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  disabled: activeIndex === 0,\n                  label: t('previous'),\n                  className: \"p-button-primary p-mr-2 p-mb-2\",\n                  onClick: function onClick(e) {\n                    return previous(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-3\",\n                children: [activeIndex === 0 && /*#__PURE__*/_jsxDEV(Button, {\n                  disabled: activeIndex === 2,\n                  label: t('next'),\n                  className: \"p-button-primary p-mr-2 p-mb-2\",\n                  onClick: function onClick(e) {\n                    return next(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 41\n                }, _this), activeIndex === 1 && /*#__PURE__*/_jsxDEV(Button, {\n                  disabled: isSubmitting,\n                  label: t('save'),\n                  className: \"p-button-primary p-mr-2 p-mb-2\",\n                  onClick: handleSubmit(onSubmit)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 41\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(CreatePromotion, \"6S/cT1+8kPePA595GU6Cko+3Q+w=\", false, function () {\n  return [useTranslation, useHistory, useForm];\n});\n\n_c = CreatePromotion;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePromotion\");","map":{"version":3,"sources":["D:/eway/src/pages/Promotion/CreatePromotion/index.js"],"names":["React","useContext","useState","useTranslation","Button","Steps","Header","Rule","useHistory","useForm","yupResolver","yup","PromotionService","ToastContext","CreatePromotion","t","toast","history","productIds","setProductIds","productQuantitys","setProductQuantitys","promotionService","schema","object","shape","itemDescription","string","required","productStoreId","nullable","fromDate","date","serviceRegisterId","partyClassificationId","when","includes","code","customerId","grandTotalFrom","number","productId","productQuantity","productQuantityFrom","productAmount","policy","discountValue","discountPercent","discountProductId","discountProductQuantity","defaultValues","thruDate","sequenceNum","requireCode","useLimitPerOrder","useLimitPerCustomer","useLimitPerPromotion","grandTotalTo","productQuantityTo","resolver","control","formState","errors","isSubmitting","handleSubmit","setError","clearErrors","getValues","items","label","onSubmit","data","ids","quantitys","count","i","length","params","createPromotion","then","storePromotionId","push","catch","err","current","show","severity","summary","detail","response","life","activeIndex","setActiveIndex","validate","name","flag","reach","validateSync","_formValues","error","type","message","next","e","previous"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Button } from 'primereact/button';\r\nimport { Steps } from 'primereact/steps';\r\n\r\nimport { Header } from './header';\r\nimport { Rule } from './rule';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { PromotionService } from '../../../service/PromotionService';\r\n\r\nimport { ToastContext } from \"../../../App\";\r\n\r\nexport const CreatePromotion = () => {\r\n  const [t] = useTranslation('common');\r\n  const toast = useContext(ToastContext);\r\n  const history = useHistory();\r\n\r\n  const [productIds, setProductIds] = useState([]);\r\n  const [productQuantitys, setProductQuantitys] = useState([]);\r\n\r\n  const promotionService = new PromotionService();\r\n\r\n  const schema = yup.object().shape({\r\n    itemDescription: yup.string().required(t('valid.validFieldRequire')),\r\n    productStoreId: yup.object().nullable().required(t('valid.validFieldRequire')),\r\n    fromDate: yup.date().nullable().required(t('valid.validFieldRequire')),\r\n    \r\n    serviceRegisterId: yup.object().nullable().required(t('valid.validFieldRequire')),\r\n    partyClassificationId: yup.object().nullable()\r\n      .when('serviceRegisterId', (serviceRegisterId, schema) => {\r\n        return (serviceRegisterId && ['GroupCustomerPromotion'].includes(serviceRegisterId.code)) ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n    customerId: yup.object().nullable()\r\n      .when('serviceRegisterId', (serviceRegisterId, schema) => {\r\n        return (serviceRegisterId && ['CustomerPromotion'].includes(serviceRegisterId.code)) ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n    grandTotalFrom: yup.number().nullable()\r\n      .when('serviceRegisterId', (serviceRegisterId, schema) => {\r\n        return (serviceRegisterId && ['EveryXGrandTotalPromotion', 'GrandTotalPromotion', 'GrandTotalProductPromotion'].includes(serviceRegisterId.code)) ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n    productId: yup.object().nullable()\r\n      .when('serviceRegisterId', (serviceRegisterId, schema) => {\r\n        return (serviceRegisterId && ['TotalQuantityProductPromotion', 'EveryXAmountProductPromotion', 'GrandTotalProductPromotion', 'EveryXQuantityProductPromotion'].includes(serviceRegisterId.code)) ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n    productQuantity: yup.number().nullable()\r\n      .when('serviceRegisterId', (serviceRegisterId, schema) => {\r\n        return (serviceRegisterId && ['EveryXQuantityProductPromotion'].includes(serviceRegisterId.code)) ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n    productQuantityFrom: yup.number().nullable()\r\n      .when('serviceRegisterId', (serviceRegisterId, schema) => {\r\n        return (serviceRegisterId && ['TotalQuantityProductPromotion'].includes(serviceRegisterId.code)) ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n    productAmount: yup.number().nullable()\r\n      .when('serviceRegisterId', (serviceRegisterId, schema) => {\r\n        return (serviceRegisterId && ['EveryXAmountProductPromotion'].includes(serviceRegisterId.code)) ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n\r\n    policy: yup.object().nullable().required(t('valid.validFieldRequire')),\r\n    discountValue: yup.number().nullable()\r\n      .when('policy', (policy, schema) => {\r\n        return (policy != null && policy.code === 'orderDiscount') ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n    discountPercent: yup.number().nullable()\r\n      .when('policy', (policy, schema) => {\r\n        return (policy != null && policy.code === 'orderDiscountPercent') ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n    discountProductId: yup.object().nullable()\r\n      .when('policy', (policy, schema) => {\r\n        return (policy != null && policy.code === 'gift') ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      }),\r\n    discountProductQuantity: yup.number().nullable()\r\n      .when('policy', (policy, schema) => {\r\n        return (policy != null && policy.code === 'gift') ? schema.required(t('valid.validFieldRequire')) : schema;\r\n      })\r\n  });\r\n\r\n  const defaultValues = {\r\n    itemDescription: '',\r\n    productStoreId: null,\r\n    fromDate: null,\r\n    thruDate: null,\r\n    sequenceNum: '',\r\n    requireCode: null,\r\n    useLimitPerOrder: null,\r\n    useLimitPerCustomer: null,\r\n    useLimitPerPromotion: null,\r\n    serviceRegisterId: null,\r\n    policy: null,\r\n\r\n    partyClassificationId: null,\r\n    customerId: null,\r\n    grandTotalFrom: null,\r\n    grandTotalTo: null,\r\n    productId: null,\r\n    productQuantity: null,\r\n    productQuantityFrom: null,\r\n    productQuantityTo: null,\r\n    productAmount: null,\r\n\r\n    discountValue: null,\r\n    discountPercent: null,\r\n    discountProductId: null,\r\n    discountProductQuantity: null,\r\n  }\r\n\r\n  const { control, formState: { errors, isSubmitting }, handleSubmit, setError, clearErrors, getValues } = useForm({ defaultValues, resolver: yupResolver(schema) });\r\n\r\n  const items = [\r\n    { label: t('promotion.basicInformation') },\r\n    { label: t('promotion.ruleInformation') },\r\n    { label: t('promotion.confirmation') }\r\n  ];\r\n\r\n  const onSubmit = (data) => {\r\n    let ids = [], quantitys = [], count = 0;\r\n\r\n    for (let i = 0; i < productIds.length; i++) {\r\n      if (productIds[i] && productQuantitys[i] && productQuantitys[i] !== -1) {\r\n        ids[count] = productIds[i].code;\r\n        quantitys[count] = productQuantitys[i];\r\n        count++;\r\n      }\r\n    }\r\n\r\n    let params = {\r\n      ...data,\r\n      partyClassificationId: data.partyClassificationId?.code,\r\n      customerId: data.customerId?.code,\r\n\r\n      productId: data.productId?.code,\r\n      discountProductId: data.discountProductId?.code,\r\n\r\n      productStoreId: data.productStoreId?.code,\r\n      serviceRegisterId: data.serviceRegisterId?.code,\r\n      requireCode: data.requireCode?.code,\r\n      productIds: ids,\r\n      productQuantitys: quantitys\r\n    }\r\n\r\n    promotionService.createPromotion(params).then((data) => {\r\n      if (data.storePromotionId) {\r\n        history.push(\"/sales/promotion/detail/\" + data.storePromotionId);\r\n    }\r\n    })\r\n    .catch(err => {\r\n        toast.current.show({ severity: 'error', summary: 'Error Message', detail: err.response.data.errors, life: 5000 });\r\n    });\r\n  };\r\n\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  const validate = (name) => {\r\n    let flag = true;\r\n    try {\r\n      yup.reach(schema, name).validateSync(control._formValues[name]);\r\n      clearErrors(name);\r\n    } catch (error) {\r\n      setError(name, {\r\n        type: \"manual\",\r\n        message: error.message,\r\n      });\r\n      flag = false;\r\n    }\r\n\r\n    return flag;\r\n  }\r\n\r\n  const next = (e) => {\r\n    let flag = true;\r\n\r\n    flag = validate('itemDescription') ? flag : false;\r\n    flag = validate('productStoreId') ? flag : false;\r\n    flag = validate('fromDate') ? flag : false;\r\n\r\n    if (activeIndex < 2 && flag) {\r\n      setActiveIndex(activeIndex + 1);\r\n    } \r\n  }\r\n\r\n  const previous = (e) => {\r\n    if (activeIndex > 0) {\r\n      setActiveIndex(activeIndex - 1);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-grid\">\r\n      <div className=\"p-col-12\">\r\n        <div className=\"card p-fluid\">\r\n          <h5>{t('promotion.createPromotion')}</h5>\r\n          \r\n          <Steps model={items} activeIndex={activeIndex} />\r\n\r\n          {activeIndex === 0 && <Header control={control} errors={errors} />}\r\n\r\n          { activeIndex === 1 && \r\n            <Rule control={control} errors={errors} getValues={getValues}\r\n              productIds={productIds} setProductIds={setProductIds}\r\n              productQuantitys={productQuantitys} setProductQuantitys={setProductQuantitys}\r\n            />\r\n          }\r\n\r\n          <div className=\"p-grid\">\r\n            <div className=\"p-col-12 p-md-6\"></div>\r\n            <div className=\"p-col-12 p-md-6\">\r\n              <div className=\"p-field p-grid\">\r\n                <div className=\"p-col-12 p-md-6\"></div>\r\n                <div className=\"p-col-12 p-md-3\">\r\n                  <Button\r\n                    disabled={activeIndex === 0}\r\n                    label={t('previous')}\r\n                    className=\"p-button-primary p-mr-2 p-mb-2\"\r\n                    onClick={(e) => previous(e)}\r\n                  />\r\n                </div>\r\n                <div className=\"p-col-12 p-md-3\">\r\n                  {activeIndex === 0 && <Button disabled={activeIndex === 2} label={t('next')} className=\"p-button-primary p-mr-2 p-mb-2\" onClick={(e) => next(e)} />}\r\n\r\n                  {activeIndex === 1 && <Button disabled={isSubmitting} label={t('save')} className=\"p-button-primary p-mr-2 p-mb-2\" onClick={handleSubmit(onSubmit)} />}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}