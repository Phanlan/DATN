{"ast":null,"code":"import _objectSpread from \"D:/eway/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"D:/eway/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\eway\\\\src\\\\pages\\\\Login.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"D:\\\\eway\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport { React, useState, useRef } from 'react';\nimport { InputText } from 'primereact/inputtext';\nimport { Button } from 'primereact/button';\nimport { useHistory } from 'react-router-dom';\nimport { Toast } from 'primereact/toast';\nimport { Const, ServiceHandle } from '../utilities';\nimport authService from '../service/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Login = function Login() {\n  _s();\n\n  var history = useHistory();\n\n  var _useState = useState({\n    username: '',\n    password: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      credential = _useState2[0],\n      setCredential = _useState2[1];\n\n  var toast = useRef();\n\n  var handleLoginSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault(); //const token = Buffer.from(`${credential.username}:${credential.password}`, 'utf8').toString('base64');\n\n              ServiceHandle.post(Const.API.Login, {\n                username: credential.username,\n                password: credential.password\n              }).then(function (res) {\n                var apiKey = res.data.apiKey;\n\n                if (apiKey) {\n                  // setHeader(apiKey);\n                  // dispatch(AuthenOverallRedux.Actions.setApiKey(apiKey));\n                  authService.saveApiKeyLocalStorage(apiKey);\n                  history.push('/');\n                }\n              }).catch(function (err) {\n                toast.current.show({\n                  severity: 'error',\n                  summary: 'Error Message',\n                  detail: err.response.data.errors,\n                  life: 3000\n                });\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleLoginSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pages-body login-page p-d-flex p-flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"topbar p-p-3 p-d-flex p-jc-between p-flex-row p-ai-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topbar-left p-ml-3 p-d-flex\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"images/logo_horizontal_transparent.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-as-center p-mt-auto p-mb-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pages-panel card p-d-flex p-flex-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pages-header p-px-3 p-py-1\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"LOGIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Welcome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pages-detail p-mb-6 p-px-6\",\n          children: \"Please use the form to sign-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLoginSubmit,\n          id: \"loginForm\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-panel p-d-flex p-flex-column p-px-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-inputgroup\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"p-inputgroup-addon\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"pi pi-envelope\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"p-float-label\",\n                children: [/*#__PURE__*/_jsxDEV(InputText, {\n                  name: \"username\",\n                  type: \"text\",\n                  id: \"username\",\n                  onChange: function onChange(e) {\n                    return setCredential(_objectSpread(_objectSpread({}, credential), {}, {\n                      username: e.target.value\n                    }));\n                  },\n                  value: credential.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"inputgroup1\",\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-inputgroup p-mt-3 p-mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"p-inputgroup-addon\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"pi pi-lock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"p-float-label\",\n                children: [/*#__PURE__*/_jsxDEV(InputText, {\n                  name: \"password\",\n                  type: \"password\",\n                  id: \"password\",\n                  autoComplete: \"off\",\n                  onChange: function onChange(e) {\n                    return setCredential(_objectSpread(_objectSpread({}, credential), {}, {\n                      password: e.target.value\n                    }));\n                  },\n                  value: credential.password\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"inputgroup2\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Toast, {\n          ref: toast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"login-button p-mb-6 p-px-3\",\n          label: \"LOGIN\",\n          type: \"submit\",\n          form: \"loginForm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Login, \"bEBNnL8UFqG3+k+gYXEjte5iUnk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/eway/src/pages/Login.js"],"names":["React","useState","useRef","InputText","Button","useHistory","Toast","Const","ServiceHandle","authService","Login","history","username","password","credential","setCredential","toast","handleLoginSubmit","e","preventDefault","post","API","then","res","apiKey","data","saveApiKeyLocalStorage","push","catch","err","current","show","severity","summary","detail","response","errors","life","target","value"],"mappings":"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","sourcesContent":["import {React, useState, useRef} from 'react';\r\nimport {InputText} from 'primereact/inputtext';\r\nimport {Button} from 'primereact/button';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport {Toast} from 'primereact/toast';\r\nimport {Const, ServiceHandle} from '../utilities';\r\n\r\nimport authService from '../service/authService';\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const [credential, setCredential] = useState({username: '', password: ''});\r\n  const toast = useRef();\r\n\r\n  const handleLoginSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    //const token = Buffer.from(`${credential.username}:${credential.password}`, 'utf8').toString('base64');\r\n\r\n    ServiceHandle.post(Const.API.Login, {\r\n      username: credential.username,\r\n      password: credential.password,\r\n    })\r\n      .then((res) => {\r\n        const apiKey = res.data.apiKey;\r\n        if (apiKey) {\r\n          // setHeader(apiKey);\r\n          // dispatch(AuthenOverallRedux.Actions.setApiKey(apiKey));\r\n          authService.saveApiKeyLocalStorage(apiKey);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        toast.current.show({\r\n          severity: 'error',\r\n          summary: 'Error Message',\r\n          detail: err.response.data.errors,\r\n          life: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"pages-body login-page p-d-flex p-flex-column\">\r\n      <div className=\"topbar p-p-3 p-d-flex p-jc-between p-flex-row p-ai-center\">\r\n        <div className=\"topbar-left p-ml-3 p-d-flex\">\r\n          <div className=\"logo\">\r\n            <img src=\"images/logo_horizontal_transparent.png\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"p-as-center p-mt-auto p-mb-auto\">\r\n        <div className=\"pages-panel card p-d-flex p-flex-column\">\r\n          <div className=\"pages-header p-px-3 p-py-1\">\r\n            <h2>LOGIN</h2>\r\n          </div>\r\n\r\n          <h4>Welcome</h4>\r\n\r\n          <div className=\"pages-detail p-mb-6 p-px-6\">Please use the form to sign-in</div>\r\n          <form onSubmit={handleLoginSubmit} id=\"loginForm\">\r\n            <div className=\"input-panel p-d-flex p-flex-column p-px-3\">\r\n              <div className=\"p-inputgroup\">\r\n                <span className=\"p-inputgroup-addon\">\r\n                  <i className=\"pi pi-envelope\"></i>\r\n                </span>\r\n                <span className=\"p-float-label\">\r\n                  <InputText\r\n                    name=\"username\"\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    onChange={(e) => setCredential({...credential, username: e.target.value})}\r\n                    value={credential.username}\r\n                  />\r\n                  <label htmlFor=\"inputgroup1\">Username</label>\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"p-inputgroup p-mt-3 p-mb-6\">\r\n                <span className=\"p-inputgroup-addon\">\r\n                  <i className=\"pi pi-lock\"></i>\r\n                </span>\r\n                <span className=\"p-float-label\">\r\n                  <InputText\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"off\"\r\n                    onChange={(e) => setCredential({...credential, password: e.target.value})}\r\n                    value={credential.password}\r\n                  />\r\n                  <label htmlFor=\"inputgroup2\">Password</label>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <Toast ref={toast} />\r\n          <Button className=\"login-button p-mb-6 p-px-3\" label=\"LOGIN\" type=\"submit\" form=\"loginForm\"></Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}