{"ast":null,"code":"import _objectSpread from \"D:/eway/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"D:/eway/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\eway\\\\src\\\\components\\\\logistics\\\\salesorder\\\\SalesOrderPartShipmentList.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"D:\\\\eway\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport React, { useState, useEffect, useRef, useContext } from 'react';\nimport { useTranslation } from \"react-i18next\";\nimport { Column } from 'primereact/column';\nimport { DataTable } from 'primereact/datatable';\nimport PropTypes from 'prop-types';\nimport { OrderService } from '../../../service/OrderService';\nimport Moment from 'react-moment';\nimport { Button } from 'primereact/button';\nimport { Toolbar } from 'primereact/toolbar';\nimport { Dialog } from 'primereact/dialog';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ToastContext } from \"../../../App\";\nimport { ProductService } from '../../../service/ProductService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var SalesOrderPartShipmentList = function SalesOrderPartShipmentList(props) {\n  _s();\n\n  var orderId = props.orderId,\n      orderPartSeqId = props.orderPartSeqId,\n      productStoreId = props.productStoreId,\n      facilityId = props.facilityId;\n  var dt = useRef(null);\n  var toast = useContext(ToastContext);\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      reloading = _useState2[0],\n      setReloading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      shipmentList = _useState6[0],\n      setShipmentList = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      shipmentCreatable = _useState8[0],\n      setShipmentCreatable = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      dialogQuickCreateShipment = _useState10[0],\n      setDialogQuickCreateShipment = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      quickCreateLoading = _useState12[0],\n      setQuickCreateLoading = _useState12[1];\n\n  var _useState13 = useState(facilityId),\n      _useState14 = _slicedToArray(_useState13, 2),\n      selectedFacilityId = _useState14[0],\n      setSelectedFacilityId = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      facilityList = _useState16[0],\n      setFacilityList = _useState16[1];\n\n  useEffect(function () {\n    var orderService = new OrderService();\n\n    var getShipments = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var shipmentRes;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setLoading(true);\n                _context.next = 3;\n                return orderService.getShipments(orderId, orderPartSeqId, {\n                  \"pageNoLimit\": true\n                });\n\n              case 3:\n                shipmentRes = _context.sent;\n                setShipmentList(shipmentRes.shipmentList);\n                setLoading(false);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getShipments() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var checkShipment = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return orderService.checkShipment(orderId, orderPartSeqId);\n\n              case 2:\n                res = _context2.sent;\n\n                if (res.data.errorCode === undefined && res.data.messages === undefined) {\n                  setShipmentCreatable(true);\n                } else {\n                  setShipmentCreatable(false);\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function checkShipment() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    checkShipment();\n    getShipments();\n  }, [reloading]);\n  useEffect(function () {\n    var productService = new ProductService();\n\n    var getProductStores = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var res, _facilityList;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return productService.getProductStore(productStoreId);\n\n              case 2:\n                res = _context3.sent;\n                _facilityList = [];\n                res.facilities.map(function (item) {\n                  if (item.thruDate === undefined) {\n                    var _facility = _objectSpread(_objectSpread({}, item.facility), {\n                      \"facilityId\": item.facilityId\n                    });\n\n                    _facilityList.push(_facility); // return _facilityList;\n\n                  }\n                });\n                setFacilityList(_facilityList);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function getProductStores() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    productStoreId && getProductStores();\n  }, []);\n\n  var submitQuickCreateShipment = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var orderService;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              orderService = new OrderService();\n              _context4.prev = 1;\n              setQuickCreateLoading(true);\n              _context4.next = 5;\n              return orderService.quickCreateShipment(orderId, orderPartSeqId, selectedFacilityId);\n\n            case 5:\n              // success\n              setDialogQuickCreateShipment(false);\n              toast.current.show({\n                severity: 'info',\n                summary: 'Information',\n                detail: 'Create shipment success',\n                life: 3000\n              });\n              setReloading(!reloading);\n              _context4.next = 14;\n              break;\n\n            case 10:\n              _context4.prev = 10;\n              _context4.t0 = _context4[\"catch\"](1);\n              console.log(\"e...\", _context4.t0);\n              toast.current.show({\n                severity: 'error',\n                summary: 'Information',\n                detail: 'Create shipment error',\n                sticky: true\n              });\n\n            case 14:\n              setQuickCreateLoading(false);\n\n            case 15:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 10]]);\n    }));\n\n    return function submitQuickCreateShipment() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var openDialogQuickCreateShipment = function openDialogQuickCreateShipment() {\n    setDialogQuickCreateShipment(true);\n  };\n\n  var onChangeFacilityId = function onChangeFacilityId(e) {\n    console.log('e..', e);\n    setSelectedFacilityId(e.value);\n  };\n\n  var dialogQuickCreateShipmentFooter = function dialogQuickCreateShipmentFooter() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        label: \"No\",\n        icon: \"pi pi-times\",\n        onClick: function onClick() {\n          return setDialogQuickCreateShipment(false);\n        },\n        className: \"p-button-text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Yes\",\n        icon: \"pi pi-check\",\n        onClick: function onClick() {\n          return submitQuickCreateShipment();\n        },\n        loading: quickCreateLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var leftContents = /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"p-m-0\",\n      children: t('common:shipment.shipments')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, _this);\n\n  var rightContents = /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      label: t('common:shipment.quickCreate'),\n      icon: \"pi pi-plus\",\n      className: \"p-button p-mr-2\",\n      disabled: !shipmentCreatable,\n      onClick: openDialogQuickCreateShipment\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Button, {\n      label: t('common:shipment.create'),\n      icon: \"pi pi-plus\",\n      className: \"p-button p-mr-2\",\n      disabled: !shipmentCreatable\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 9\n  }, _this);\n\n  var rowIndexBodyTemplate = function rowIndexBodyTemplate(rowData, props) {\n    var index = parseInt(props.rowIndex + 1);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var IdBodyTemplate = function IdBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#/logistics/shipment/detail/\".concat(rowData.shipmentId),\n        style: {\n          color: \"#2196f3\"\n        },\n        children: rowData.shipmentId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var shipmentTypeBodyTemplate = function shipmentTypeBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: t(\"enum:ShipmentType.\".concat(rowData.shipmentTypeEnumId))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 18\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var shipmentStatusBodyTemplate = function shipmentStatusBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: t(\"status:Shipment.\".concat(rowData.statusId))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 18\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var dateBodyTemplate = function dateBodyTemplate(rowData, props) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\" \", rowData[props.field] != null && /*#__PURE__*/_jsxDEV(Moment, {\n          format: \"DD/MM/YYYY HH:mm\",\n          children: rowData[props.field]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 58\n        }, _this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 18\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var facilityBodyTemplate = function facilityBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        title: rowData.originFacilityId,\n        children: rowData.originFacilityName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 18\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var destPostalAddressBodyTemplate = function destPostalAddressBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        title: \"\".concat(rowData.destPostalToName, \" - \").concat(rowData.destTelecomContactNumber),\n        children: [rowData.destPostalAddress1, \", \", rowData.destPostalWardName, \", \", rowData.destPostalProvinceName, \", \", rowData.destPostalCountryName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 18\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n        left: leftContents,\n        right: rightContents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(DataTable, {\n        ref: dt,\n        value: shipmentList,\n        dataKey: \"shipmentId\",\n        showGridlines: true,\n        loading: loading,\n        selectionMode: \"single\",\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          header: \"#\",\n          body: rowIndexBodyTemplate,\n          headerStyle: {\n            width: \"2rem\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"shipmentId\",\n          header: t('common:shipment.shipmentId'),\n          body: IdBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"shipmentTypeEnumId\",\n          header: t('common:shipment.shipmentTypeEnumId'),\n          body: shipmentTypeBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"originFacilityId\",\n          header: t('common:shipment.facility'),\n          body: facilityBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"statusId\",\n          header: t('common:shipment.statusId'),\n          body: shipmentStatusBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          header: t('common:shipment.destPostalAddress'),\n          body: destPostalAddressBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"shipAfterDate\",\n          header: t('common:shipment.shipAfterDate'),\n          body: dateBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"shipBeforeDate\",\n          header: t('common:shipment.shipBeforeDate'),\n          body: dateBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"estimatedReadyDate\",\n          header: t('common:shipment.estimatedReadyDate'),\n          body: dateBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"packedDate\",\n          header: t('common:shipment.packedDate'),\n          body: dateBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"latestCancelDate\",\n          header: t('common:shipment.latestCancelDate'),\n          body: dateBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"entryDate\",\n          header: t('common:shipment.entryDate'),\n          body: dateBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Dialog, {\n      header: \"create shipment\",\n      visible: dialogQuickCreateShipment,\n      style: {\n        width: '25vw'\n      },\n      onHide: function onHide() {\n        return setDialogQuickCreateShipment(false);\n      },\n      footer: dialogQuickCreateShipmentFooter,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-field p-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"facilityId\",\n          children: \"Facility\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Dropdown, {\n          id: \"facilityId\",\n          value: selectedFacilityId,\n          options: facilityList,\n          optionValue: \"facilityId\",\n          optionLabel: \"facilityName\",\n          onChange: onChangeFacilityId,\n          placeholder: \"Select a facility\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(SalesOrderPartShipmentList, \"aA8Yo6KMGBByfnwvC96V1NXH4wk=\", false, function () {\n  return [useTranslation];\n});\n\n_c = SalesOrderPartShipmentList;\nSalesOrderPartShipmentList.propTypes = {\n  orderId: PropTypes.string.isRequired,\n  orderPartSeqId: PropTypes.string.isRequired,\n  productStoreId: PropTypes.string,\n  facilityId: PropTypes.string\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"SalesOrderPartShipmentList\");","map":{"version":3,"sources":["D:/eway/src/components/logistics/salesorder/SalesOrderPartShipmentList.js"],"names":["React","useState","useEffect","useRef","useContext","useTranslation","Column","DataTable","PropTypes","OrderService","Moment","Button","Toolbar","Dialog","Dropdown","ToastContext","ProductService","SalesOrderPartShipmentList","props","orderId","orderPartSeqId","productStoreId","facilityId","dt","toast","t","reloading","setReloading","loading","setLoading","shipmentList","setShipmentList","shipmentCreatable","setShipmentCreatable","dialogQuickCreateShipment","setDialogQuickCreateShipment","quickCreateLoading","setQuickCreateLoading","selectedFacilityId","setSelectedFacilityId","facilityList","setFacilityList","orderService","getShipments","shipmentRes","checkShipment","res","data","errorCode","undefined","messages","productService","getProductStores","getProductStore","_facilityList","facilities","map","item","thruDate","_facility","facility","push","submitQuickCreateShipment","quickCreateShipment","current","show","severity","summary","detail","life","console","log","sticky","openDialogQuickCreateShipment","onChangeFacilityId","e","value","dialogQuickCreateShipmentFooter","leftContents","rightContents","rowIndexBodyTemplate","rowData","index","parseInt","rowIndex","IdBodyTemplate","shipmentId","color","shipmentTypeBodyTemplate","shipmentTypeEnumId","shipmentStatusBodyTemplate","statusId","dateBodyTemplate","field","facilityBodyTemplate","originFacilityId","originFacilityName","destPostalAddressBodyTemplate","destPostalToName","destTelecomContactNumber","destPostalAddress1","destPostalWardName","destPostalProvinceName","destPostalCountryName","width","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Column } from 'primereact/column';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport PropTypes from 'prop-types';\r\nimport { OrderService } from '../../../service/OrderService';\r\nimport Moment from 'react-moment';\r\nimport { Button } from 'primereact/button';\r\nimport { Toolbar } from 'primereact/toolbar';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { ToastContext } from \"../../../App\";\r\nimport { ProductService } from '../../../service/ProductService';\r\n\r\n\r\nexport const SalesOrderPartShipmentList = (props) => {\r\n    \r\n    const {orderId, orderPartSeqId, productStoreId, facilityId} = props;\r\n\r\n    const dt = useRef(null);\r\n    const toast = useContext(ToastContext);\r\n    const { t } = useTranslation();\r\n\r\n    const [reloading, setReloading] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [shipmentList, setShipmentList] = useState([]);\r\n    const [shipmentCreatable, setShipmentCreatable] = useState(false);\r\n    \r\n    const [dialogQuickCreateShipment, setDialogQuickCreateShipment] = useState(false);\r\n    const [quickCreateLoading, setQuickCreateLoading] = useState(false);\r\n    const [selectedFacilityId, setSelectedFacilityId] = useState(facilityId);\r\n    const [facilityList, setFacilityList] = useState([]);\r\n\r\n    \r\n    useEffect(() => {\r\n        const orderService = new OrderService();\r\n\r\n        const getShipments = async()=>{\r\n            setLoading(true);\r\n            const shipmentRes =  await orderService.getShipments(orderId, orderPartSeqId, {\"pageNoLimit\": true});\r\n            setShipmentList(shipmentRes.shipmentList);\r\n            setLoading(false);\r\n        }\r\n\r\n        const checkShipment = async()=>{\r\n            const res =  await orderService.checkShipment(orderId, orderPartSeqId);\r\n            if(res.data.errorCode === undefined && res.data.messages === undefined){\r\n                setShipmentCreatable(true);\r\n            }else{\r\n                setShipmentCreatable(false);\r\n            }\r\n        }\r\n\r\n        checkShipment();\r\n        getShipments();\r\n    },[reloading]);\r\n\r\n    useEffect(() => {\r\n        const productService = new ProductService();\r\n        const getProductStores = async()=>{\r\n            const res =  await productService.getProductStore(productStoreId);\r\n            let _facilityList = []; \r\n            res.facilities.map((item) => {\r\n                if(item.thruDate === undefined){\r\n                    let _facility = {...item.facility, ...{\"facilityId\": item.facilityId}};\r\n                    _facilityList.push(_facility);\r\n                    // return _facilityList;\r\n                }    \r\n            });\r\n            setFacilityList(_facilityList);\r\n        }\r\n\r\n        productStoreId && getProductStores();\r\n    },[]);\r\n\r\n\r\n    const submitQuickCreateShipment = async() => {\r\n        const orderService = new OrderService();\r\n        try{\r\n            setQuickCreateLoading(true);\r\n            await orderService.quickCreateShipment(orderId, orderPartSeqId, selectedFacilityId);\r\n            // success\r\n            setDialogQuickCreateShipment(false);\r\n            toast.current.show({severity: 'info', summary: 'Information', detail: 'Create shipment success', life: 3000});\r\n            setReloading(!reloading);\r\n        }catch(e) {\r\n            console.log(\"e...\", e);\r\n            toast.current.show({severity: 'error', summary: 'Information', detail: 'Create shipment error', sticky: true});\r\n        }\r\n        setQuickCreateLoading(false);\r\n    }\r\n\r\n    const openDialogQuickCreateShipment = () => {\r\n        setDialogQuickCreateShipment(true);\r\n    }\r\n    const onChangeFacilityId = (e) => {\r\n        console.log('e..',e);\r\n        setSelectedFacilityId(e.value);\r\n    }\r\n\r\n    const dialogQuickCreateShipmentFooter = () => {\r\n        return (\r\n            <div>\r\n                <Button label=\"No\" icon=\"pi pi-times\" onClick={() => setDialogQuickCreateShipment(false)} className=\"p-button-text\" />\r\n                <Button label=\"Yes\" icon=\"pi pi-check\" onClick={() => submitQuickCreateShipment()} loading={quickCreateLoading}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const leftContents = (\r\n        <React.Fragment>\r\n            <h5 className='p-m-0'>{t('common:shipment.shipments')}</h5>\r\n        </React.Fragment>\r\n    );\r\n\r\n    const rightContents = (\r\n        <React.Fragment>\r\n            <Button label={t('common:shipment.quickCreate')} icon=\"pi pi-plus\" className=\"p-button p-mr-2\" disabled={!shipmentCreatable} onClick={openDialogQuickCreateShipment}/>\r\n            <Button label={t('common:shipment.create')} icon=\"pi pi-plus\" className=\"p-button p-mr-2\" disabled={!shipmentCreatable}/>\r\n        </React.Fragment>\r\n    );\r\n    \r\n    const rowIndexBodyTemplate = (rowData, props) => {\r\n        let index = parseInt(props.rowIndex + 1);\r\n        return (\r\n            <React.Fragment>\r\n                <span>{index}</span>\r\n            </React.Fragment>\r\n        );\r\n    };\r\n\r\n    const IdBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                <a href={`#/logistics/shipment/detail/${rowData.shipmentId}`}  style={{ color: \"#2196f3\" }}>{rowData.shipmentId}</a>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    const shipmentTypeBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                 <span>{t(`enum:ShipmentType.${rowData.shipmentTypeEnumId}`)}</span>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    const shipmentStatusBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                 <span>{t(`status:Shipment.${rowData.statusId}`)}</span>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    const dateBodyTemplate = (rowData, props) => {\r\n        return (\r\n            <React.Fragment>\r\n                 <span> {rowData[props.field] != null && <Moment format=\"DD/MM/YYYY HH:mm\">{rowData[props.field]}</Moment>} </span>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    const facilityBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                 <span title={rowData.originFacilityId}>{rowData.originFacilityName}</span>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n    \r\n    const destPostalAddressBodyTemplate = (rowData) => {\r\n        return (\r\n            <React.Fragment>\r\n                 <span title={`${rowData.destPostalToName} - ${rowData.destTelecomContactNumber}`}>{rowData.destPostalAddress1}, {rowData.destPostalWardName}, {rowData.destPostalProvinceName}, {rowData.destPostalCountryName}</span>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card\">\r\n                <Toolbar left={leftContents} right={rightContents} />\r\n                <DataTable ref={dt} value={shipmentList} dataKey=\"shipmentId\"  showGridlines loading={loading} selectionMode=\"single\">\r\n                    <Column header=\"#\" body={rowIndexBodyTemplate} headerStyle={{ width: \"2rem\" }}/>\r\n                    <Column field=\"shipmentId\" header={t('common:shipment.shipmentId')} body={IdBodyTemplate}></Column>\r\n                    <Column field=\"shipmentTypeEnumId\" header={t('common:shipment.shipmentTypeEnumId')} body={shipmentTypeBodyTemplate}></Column>\r\n                    <Column field=\"originFacilityId\" header={t('common:shipment.facility')} body={facilityBodyTemplate}></Column>\r\n                    <Column field=\"statusId\" header={t('common:shipment.statusId')} body={shipmentStatusBodyTemplate}></Column>\r\n                    <Column header={t('common:shipment.destPostalAddress')} body={destPostalAddressBodyTemplate}></Column>\r\n\r\n\r\n                    {/* <Column field=\"fromPartyId\" header={t('common:shipment.fromPartyId')}></Column> */}\r\n                    {/* <Column field=\"toPartyId\" header={t('common:shipment.toPartyId')}></Column> */}\r\n                    {/* <Column field=\"productStoreId\" header={t('common:shipment.productStore')} body={productStoreBodyTemplate}></Column> */}\r\n                    {/* <Column field=\"priority\" header={t('common:shipment.priority')}></Column> */}\r\n                    \r\n                    {/* <Column field=\"entryDate\" header={t('common:shipment.entryDate')}></Column> */}\r\n                    <Column field=\"shipAfterDate\" header={t('common:shipment.shipAfterDate')} body={dateBodyTemplate}></Column>\r\n                    <Column field=\"shipBeforeDate\" header={t('common:shipment.shipBeforeDate')} body={dateBodyTemplate}></Column>\r\n                    <Column field=\"estimatedReadyDate\" header={t('common:shipment.estimatedReadyDate')} body={dateBodyTemplate}></Column>\r\n                    {/* <Column field=\"estimatedArrivalDate\" header={t('common:shipment.estimatedArrivalDate') body={dateBodyTemplate}}></Column> */}\r\n                    <Column field=\"packedDate\" header={t('common:shipment.packedDate')} body={dateBodyTemplate}></Column>\r\n                    <Column field=\"latestCancelDate\" header={t('common:shipment.latestCancelDate')} body={dateBodyTemplate}></Column>\r\n                    <Column field=\"entryDate\" header={t('common:shipment.entryDate')} body={dateBodyTemplate}></Column>\r\n                    {/* <Column field=\"handlingInstructions\" header={t('common:shipment.handlingInstructions')}></Column> */}\r\n                </DataTable>\r\n            </div>\r\n\r\n            <Dialog header=\"create shipment\" visible={dialogQuickCreateShipment} style={{ width: '25vw' }}  onHide={() => setDialogQuickCreateShipment(false)} footer={dialogQuickCreateShipmentFooter}>\r\n                <div className=\"p-field p-fluid\">\r\n                    <label htmlFor=\"facilityId\">Facility</label>\r\n                    <Dropdown id='facilityId' value={selectedFacilityId} options={facilityList} optionValue=\"facilityId\" optionLabel=\"facilityName\" onChange={onChangeFacilityId} placeholder=\"Select a facility\" />\r\n                    {/* <small id=\"username-help\">Enter your username to reset your password.</small> */}\r\n                </div>  \r\n\r\n            </Dialog>\r\n\r\n        </div>\r\n    );\r\n}\r\nSalesOrderPartShipmentList.propTypes  = {\r\n    orderId: PropTypes.string.isRequired,\r\n    orderPartSeqId: PropTypes.string.isRequired,\r\n    productStoreId: PropTypes.string,\r\n    facilityId: PropTypes.string,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}