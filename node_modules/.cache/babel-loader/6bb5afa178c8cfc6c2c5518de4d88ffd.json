{"ast":null,"code":"import _asyncToGenerator from \"D:/\\u0110A/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/\\u0110A/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\\\u0110A\\\\src\\\\pages\\\\Product\\\\ProductDetail\\\\Promotion.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"D:\\\\\\u0110A\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { useTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport { PromotionService } from '../../../service/PromotionService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var Promotion = function Promotion(props) {\n  _s();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var promotionService = new PromotionService();\n  var dt = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      promotions = _useState2[0],\n      setPromotions = _useState2[1];\n\n  var productId = props.productId;\n  useEffect(function () {\n    init(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var init = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var params, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            params = {\n              productId: productId\n            };\n            _context.next = 3;\n            return promotionService.getPromotionFromProductId(params);\n\n          case 3:\n            data = _context.sent;\n            setPromotions(data.promotions); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n  var bodyTemplate = useCallback(function (data, props) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"p-column-title\",\n        children: props.header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, _this), data[props.field]]\n    }, void 0, true);\n  }, []);\n  var bodyDateTemplate = useCallback(function (data, props) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"p-column-title\",\n        children: props.header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, _this), data[props.field] ? moment(data[props.field]).format('DD/MM/YYYY HH:mm:ss') : '']\n    }, void 0, true);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-mt-2 table-demo\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-12 p-md-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: t('common:product.basePrice')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(DataTable, {\n            value: promotions,\n            className: \"p-datatable-customers\",\n            dataKey: \"productId\",\n            ref: dt,\n            children: [/*#__PURE__*/_jsxDEV(Column, {\n              field: \"storePromotionId\",\n              header: t('common:pos.promoCode'),\n              body: bodyTemplate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Column, {\n              field: \"itemDescription\",\n              header: t('common:pos.promoName'),\n              body: bodyTemplate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Column, {\n              field: \"storeName\",\n              header: t('common:productStore'),\n              body: bodyTemplate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Column, {\n              field: \"description\",\n              header: t('common:product.description'),\n              body: bodyTemplate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Column, {\n              field: \"fromDate\",\n              header: t('common:productPrice.fromDate'),\n              body: bodyDateTemplate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Column, {\n              field: \"thruDate\",\n              header: t('common:productPrice.thruDate'),\n              body: bodyDateTemplate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false);\n};\n\n_s(Promotion, \"sQGigDPKJLN99mk3fSdX69u6aw0=\", false, function () {\n  return [useTranslation];\n});\n\n_c = Promotion;\n\nvar _c;\n\n$RefreshReg$(_c, \"Promotion\");","map":{"version":3,"sources":["D:/ƒêA/src/pages/Product/ProductDetail/Promotion.js"],"names":["React","useEffect","useRef","useState","useCallback","DataTable","Column","useTranslation","moment","PromotionService","Promotion","props","t","promotionService","dt","promotions","setPromotions","productId","init","params","getPromotionFromProductId","data","bodyTemplate","header","field","bodyDateTemplate","format"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\r\n\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\nimport moment from 'moment';\r\n\r\nimport { PromotionService } from '../../../service/PromotionService';\r\n\r\nexport const Promotion = (props) => {\r\n    const { t } = useTranslation();\r\n    const promotionService = new PromotionService();\r\n\r\n    const dt = useRef(null);\r\n    const [ promotions, setPromotions ] = useState(null);\r\n\r\n    const { productId } = props;\r\n\r\n    useEffect(() => {\r\n        init();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const init = useCallback(async () => {\r\n        let params = {\r\n            productId: productId\r\n        };\r\n        const data = await promotionService.getPromotionFromProductId(params);\r\n        \r\n        setPromotions(data.promotions);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const bodyTemplate = useCallback((data, props) => {\r\n        return (\r\n            <>\r\n                <span className=\"p-column-title\">{props.header}</span>\r\n                {data[props.field]}\r\n            </>\r\n        );\r\n    }, []);\r\n\r\n    const bodyDateTemplate = useCallback((data, props) => {\r\n        return (\r\n            <>\r\n                <span className=\"p-column-title\">{props.header}</span>\r\n                {data[props.field] ? moment(data[props.field]).format('DD/MM/YYYY HH:mm:ss') : ''}\r\n            </>\r\n        );\r\n    }, []);\r\n\r\n    return(\r\n        <>\r\n            <div className=\"card\">\r\n                <div className=\"p-grid p-mt-2 table-demo\">\r\n                    <div className=\"p-col-12 p-md-12\">\r\n                        <h5>{t('common:product.basePrice')}</h5>\r\n                        <DataTable value={promotions} className=\"p-datatable-customers\" dataKey=\"productId\" ref={dt}>\r\n                            <Column field=\"storePromotionId\" header={t('common:pos.promoCode')} body={bodyTemplate}></Column>\r\n                            <Column field=\"itemDescription\" header={t('common:pos.promoName')} body={bodyTemplate}></Column>\r\n                            <Column field=\"storeName\" header={t('common:productStore')} body={bodyTemplate}></Column>\r\n                            <Column field=\"description\" header={t('common:product.description')} body={bodyTemplate}></Column>\r\n                            <Column field=\"fromDate\" header={t('common:productPrice.fromDate')} body={bodyDateTemplate}></Column>\r\n                            <Column field=\"thruDate\" header={t('common:productPrice.thruDate')} body={bodyDateTemplate}></Column>\r\n                        </DataTable>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}