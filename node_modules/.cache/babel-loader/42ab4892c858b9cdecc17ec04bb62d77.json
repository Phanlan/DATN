{"ast":null,"code":"import _slicedToArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\eway\\\\src\\\\pages\\\\PurchaseOrderDetail.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams } from \"react-router-dom\";\nimport { Button } from \"primereact/button\";\nimport { Toolbar } from \"primereact/toolbar\";\nimport { TabView, TabPanel } from \"primereact/tabview\";\nimport { PurchasingService } from \"../service/PurchasingService\";\nimport { OrderGeneral } from \"../components/PurchaseDetail/OrderGeneral\";\nimport { OrderInfo } from \"../components/PurchaseDetail/OrderInfo\";\nimport { OrderPaymentInfo } from \"../components/PurchaseDetail/OrderPaymentInfo\";\nimport { OrderItem } from \"../components/PurchaseDetail/OrderItem\";\nimport { ToastContext } from \"../App\";\nimport { UserProfileContext } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar toolbarStyle = {\n  position: \"absolute\",\n  right: 0,\n  padding: 0,\n  display: \"block\",\n  zIndex: 1\n};\nexport var PurchaseOrderDetail = function PurchaseOrderDetail() {\n  _s();\n\n  var toast = useContext(ToastContext);\n  var userProfile = useContext(UserProfileContext);\n\n  var _useTranslation = useTranslation(),\n      _useTranslation2 = _slicedToArray(_useTranslation, 1),\n      t = _useTranslation2[0];\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      orderDetail = _useState2[0],\n      setOrderDetail = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      orderItems = _useState4[0],\n      setOrderItems = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      activeIndex = _useState6[0],\n      setActiveIndex = _useState6[1];\n\n  useEffect(function () {\n    document.title = t(\"common:title.purchasingOrderDetail\");\n    var purchasingService = new PurchasingService();\n    var param = {\n      orderId: id\n    };\n    purchasingService.getOrderDetail(param).then(function (data) {\n      setOrderDetail(data.orderDetail);\n      setOrderItems(data.orderDetail.orderItems);\n    }).catch(function (err) {\n      var _err$response;\n\n      toast.current.show({\n        severity: \"error\",\n        summary: t(\"errorMessage\"),\n        detail: (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data.errors,\n        life: 5000\n      });\n    });\n    return function () {\n      document.title = \"Ultima PrimeReact\";\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var rightContents = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [userProfile.roles.includes(\"ADMIN\") && /*#__PURE__*/_jsxDEV(Button, {\n      label: t(\"common:approve\"),\n      icon: \"pi pi-check\",\n      className: \"p-mr-2\",\n      onClick: function onClick() {\n        return console.log(\"Approve\");\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, _this), orderDetail != null && (userProfile.info.partyId === orderDetail.enteredByParty.partyId || userProfile.roles.includes(\"ADMIN\")) && /*#__PURE__*/_jsxDEV(Button, {\n      label: t(\"common:cancel\"),\n      icon: \"pi pi-trash\",\n      className: \"p-button-danger p-mr-2\",\n      onClick: function onClick() {\n        return console.log(\"cancel\");\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }, _this), orderDetail != null && userProfile.info.partyId === orderDetail.enteredByParty.partyId && /*#__PURE__*/_jsxDEV(Button, {\n      label: t(\"common:edit\"),\n      icon: \"pi pi-pencil\",\n      className: \"p-button-info p-mr-2\",\n      onClick: function onClick() {\n        return console.log(\"edit\");\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }, _this)]\n  }, void 0, true);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tabview-demo\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        position: \"relative\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n        right: rightContents,\n        style: toolbarStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TabView, {\n        activeIndex: activeIndex,\n        onTabChange: function onTabChange(e) {\n          return setActiveIndex(e.index);\n        },\n        children: [/*#__PURE__*/_jsxDEV(TabPanel, {\n          header: t(\"common:order.orderGeneral\"),\n          children: /*#__PURE__*/_jsxDEV(OrderGeneral, {\n            orderDetail: orderDetail,\n            orderItems: orderItems\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          header: t(\"common:order.orderInfo\"),\n          children: /*#__PURE__*/_jsxDEV(OrderInfo, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          header: t(\"common:order.orderPaymentInfo\"),\n          children: /*#__PURE__*/_jsxDEV(OrderPaymentInfo, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          header: t(\"common:order.orderItem\"),\n          children: /*#__PURE__*/_jsxDEV(OrderItem, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(PurchaseOrderDetail, \"Jrap1JWckdYpLvH+u73t3qW/FY0=\", false, function () {\n  return [useTranslation, useParams];\n});\n\n_c = PurchaseOrderDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"PurchaseOrderDetail\");","map":{"version":3,"sources":["D:/eway/src/pages/PurchaseOrderDetail.js"],"names":["React","useState","useEffect","useContext","useTranslation","useParams","Button","Toolbar","TabView","TabPanel","PurchasingService","OrderGeneral","OrderInfo","OrderPaymentInfo","OrderItem","ToastContext","UserProfileContext","toolbarStyle","position","right","padding","display","zIndex","PurchaseOrderDetail","toast","userProfile","t","id","orderDetail","setOrderDetail","orderItems","setOrderItems","activeIndex","setActiveIndex","document","title","purchasingService","param","orderId","getOrderDetail","then","data","catch","err","current","show","severity","summary","detail","response","errors","life","rightContents","roles","includes","console","log","info","partyId","enteredByParty","e","index"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,oBAAlC;AACA,SAASC,iBAAT,QAAkC,8BAAlC;AAEA,SAASC,YAAT,QAA6B,2CAA7B;AACA,SAASC,SAAT,QAA0B,wCAA1B;AACA,SAASC,gBAAT,QAAiC,+CAAjC;AACA,SAASC,SAAT,QAA0B,wCAA1B;AAEA,SAASC,YAAT,QAA6B,QAA7B;AACA,SAASC,kBAAT,QAAmC,QAAnC;;;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,UADS;AAEnBC,EAAAA,KAAK,EAAE,CAFY;AAGnBC,EAAAA,OAAO,EAAE,CAHU;AAInBC,EAAAA,OAAO,EAAE,OAJU;AAKnBC,EAAAA,MAAM,EAAE;AALW,CAArB;AAQA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAAA;;AACvC,MAAMC,KAAK,GAAGrB,UAAU,CAACY,YAAD,CAAxB;AACA,MAAMU,WAAW,GAAGtB,UAAU,CAACa,kBAAD,CAA9B;;AAEA,wBAAYZ,cAAc,EAA1B;AAAA;AAAA,MAAOsB,CAAP;;AACA,mBAAarB,SAAS,EAAtB;AAAA,MAAMsB,EAAN,cAAMA,EAAN;;AACA,kBAAsC1B,QAAQ,CAAC,IAAD,CAA9C;AAAA;AAAA,MAAO2B,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAAoC5B,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAO6B,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,mBAAsC9B,QAAQ,CAAC,CAAD,CAA9C;AAAA;AAAA,MAAO+B,WAAP;AAAA,MAAoBC,cAApB;;AAEA/B,EAAAA,SAAS,CAAC,YAAM;AACdgC,IAAAA,QAAQ,CAACC,KAAT,GAAiBT,CAAC,CAAC,oCAAD,CAAlB;AAEA,QAAMU,iBAAiB,GAAG,IAAI1B,iBAAJ,EAA1B;AACA,QAAM2B,KAAK,GAAG;AAAEC,MAAAA,OAAO,EAAEX;AAAX,KAAd;AACAS,IAAAA,iBAAiB,CACdG,cADH,CACkBF,KADlB,EAEGG,IAFH,CAEQ,UAACC,IAAD,EAAU;AACdZ,MAAAA,cAAc,CAACY,IAAI,CAACb,WAAN,CAAd;AACAG,MAAAA,aAAa,CAACU,IAAI,CAACb,WAAL,CAAiBE,UAAlB,CAAb;AACD,KALH,EAMGY,KANH,CAMS,UAACC,GAAD,EAAS;AAAA;;AACdnB,MAAAA,KAAK,CAACoB,OAAN,CAAcC,IAAd,CAAmB;AACjBC,QAAAA,QAAQ,EAAE,OADO;AAEjBC,QAAAA,OAAO,EAAErB,CAAC,CAAC,cAAD,CAFO;AAGjBsB,QAAAA,MAAM,mBAAEL,GAAG,CAACM,QAAN,kDAAE,cAAcR,IAAd,CAAmBS,MAHV;AAIjBC,QAAAA,IAAI,EAAE;AAJW,OAAnB;AAMD,KAbH;AAeA,WAAO,YAAM;AACXjB,MAAAA,QAAQ,CAACC,KAAT,GAAiB,mBAAjB;AACD,KAFD;AAGD,GAvBQ,EAuBN,EAvBM,CAAT,CAXuC,CAkC/B;;AAER,MAAMiB,aAAa,gBACjB;AAAA,eACG3B,WAAW,CAAC4B,KAAZ,CAAkBC,QAAlB,CAA2B,OAA3B,kBACC,QAAC,MAAD;AACE,MAAA,KAAK,EAAE5B,CAAC,CAAC,gBAAD,CADV;AAEE,MAAA,IAAI,EAAC,aAFP;AAGE,MAAA,SAAS,EAAC,QAHZ;AAIE,MAAA,OAAO,EAAE;AAAA,eAAM6B,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAN;AAAA;AAJX;AAAA;AAAA;AAAA;AAAA,aAFJ,EASG5B,WAAW,IAAI,IAAf,KACEH,WAAW,CAACgC,IAAZ,CAAiBC,OAAjB,KAA6B9B,WAAW,CAAC+B,cAAZ,CAA2BD,OAAxD,IACCjC,WAAW,CAAC4B,KAAZ,CAAkBC,QAAlB,CAA2B,OAA3B,CAFH,kBAGG,QAAC,MAAD;AACE,MAAA,KAAK,EAAE5B,CAAC,CAAC,eAAD,CADV;AAEE,MAAA,IAAI,EAAC,aAFP;AAGE,MAAA,SAAS,EAAC,wBAHZ;AAIE,MAAA,OAAO,EAAE;AAAA,eAAM6B,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAN;AAAA;AAJX;AAAA;AAAA;AAAA;AAAA,aAZN,EAmBG5B,WAAW,IAAI,IAAf,IACCH,WAAW,CAACgC,IAAZ,CAAiBC,OAAjB,KAA6B9B,WAAW,CAAC+B,cAAZ,CAA2BD,OADzD,iBAEG,QAAC,MAAD;AACE,MAAA,KAAK,EAAEhC,CAAC,CAAC,aAAD,CADV;AAEE,MAAA,IAAI,EAAC,cAFP;AAGE,MAAA,SAAS,EAAC,sBAHZ;AAIE,MAAA,OAAO,EAAE;AAAA,eAAM6B,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAN;AAAA;AAJX;AAAA;AAAA;AAAA;AAAA,aArBN;AAAA,kBADF;;AAgCA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,KAAK,EAAE;AAAEtC,QAAAA,QAAQ,EAAE;AAAZ,OAA7B;AAAA,8BACE,QAAC,OAAD;AAAS,QAAA,KAAK,EAAEkC,aAAhB;AAA+B,QAAA,KAAK,EAAEnC;AAAtC;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,QAAC,OAAD;AACE,QAAA,WAAW,EAAEe,WADf;AAEE,QAAA,WAAW,EAAE,qBAAC4B,CAAD;AAAA,iBAAO3B,cAAc,CAAC2B,CAAC,CAACC,KAAH,CAArB;AAAA,SAFf;AAAA,gCAIE,QAAC,QAAD;AAAU,UAAA,MAAM,EAAEnC,CAAC,CAAC,2BAAD,CAAnB;AAAA,iCACE,QAAC,YAAD;AAAc,YAAA,WAAW,EAAEE,WAA3B;AAAwC,YAAA,UAAU,EAAEE;AAApD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBAJF,eAOE,QAAC,QAAD;AAAU,UAAA,MAAM,EAAEJ,CAAC,CAAC,wBAAD,CAAnB;AAAA,iCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBAPF,eAUE,QAAC,QAAD;AAAU,UAAA,MAAM,EAAEA,CAAC,CAAC,+BAAD,CAAnB;AAAA,iCACE,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBAVF,eAaE,QAAC,QAAD;AAAU,UAAA,MAAM,EAAEA,CAAC,CAAC,wBAAD,CAAnB;AAAA,iCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AAwBD,CA5FM;;GAAMH,mB;UAICnB,c,EACCC,S;;;KALFkB,mB","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Toolbar } from \"primereact/toolbar\";\r\nimport { TabView, TabPanel } from \"primereact/tabview\";\r\nimport { PurchasingService } from \"../service/PurchasingService\";\r\n\r\nimport { OrderGeneral } from \"../components/PurchaseDetail/OrderGeneral\";\r\nimport { OrderInfo } from \"../components/PurchaseDetail/OrderInfo\";\r\nimport { OrderPaymentInfo } from \"../components/PurchaseDetail/OrderPaymentInfo\";\r\nimport { OrderItem } from \"../components/PurchaseDetail/OrderItem\";\r\n\r\nimport { ToastContext } from \"../App\";\r\nimport { UserProfileContext } from \"../App\";\r\n\r\nconst toolbarStyle = {\r\n  position: \"absolute\",\r\n  right: 0,\r\n  padding: 0,\r\n  display: \"block\",\r\n  zIndex: 1,\r\n};\r\n\r\nexport const PurchaseOrderDetail = () => {\r\n  const toast = useContext(ToastContext);\r\n  const userProfile = useContext(UserProfileContext);\r\n\r\n  const [t] = useTranslation();\r\n  let { id } = useParams();\r\n  const [orderDetail, setOrderDetail] = useState(null);\r\n  const [orderItems, setOrderItems] = useState([]);\r\n\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    document.title = t(\"common:title.purchasingOrderDetail\");\r\n\r\n    const purchasingService = new PurchasingService();\r\n    const param = { orderId: id };\r\n    purchasingService\r\n      .getOrderDetail(param)\r\n      .then((data) => {\r\n        setOrderDetail(data.orderDetail);\r\n        setOrderItems(data.orderDetail.orderItems);\r\n      })\r\n      .catch((err) => {\r\n        toast.current.show({\r\n          severity: \"error\",\r\n          summary: t(\"errorMessage\"),\r\n          detail: err.response?.data.errors,\r\n          life: 5000,\r\n        });\r\n      });\r\n\r\n    return () => {\r\n      document.title = \"Ultima PrimeReact\";\r\n    };\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const rightContents = (\r\n    <>\r\n      {userProfile.roles.includes(\"ADMIN\") && (\r\n        <Button\r\n          label={t(\"common:approve\")}\r\n          icon=\"pi pi-check\"\r\n          className=\"p-mr-2\"\r\n          onClick={() => console.log(\"Approve\")}\r\n        />\r\n      )}\r\n      {orderDetail != null &&\r\n        (userProfile.info.partyId === orderDetail.enteredByParty.partyId ||\r\n          userProfile.roles.includes(\"ADMIN\")) && (\r\n          <Button\r\n            label={t(\"common:cancel\")}\r\n            icon=\"pi pi-trash\"\r\n            className=\"p-button-danger p-mr-2\"\r\n            onClick={() => console.log(\"cancel\")}\r\n          />\r\n        )}\r\n      {orderDetail != null &&\r\n        userProfile.info.partyId === orderDetail.enteredByParty.partyId && (\r\n          <Button\r\n            label={t(\"common:edit\")}\r\n            icon=\"pi pi-pencil\"\r\n            className=\"p-button-info p-mr-2\"\r\n            onClick={() => console.log(\"edit\")}\r\n          />\r\n        )}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div className=\"tabview-demo\">\r\n      <div className=\"card\" style={{ position: \"relative\" }}>\r\n        <Toolbar right={rightContents} style={toolbarStyle} />\r\n        <TabView\r\n          activeIndex={activeIndex}\r\n          onTabChange={(e) => setActiveIndex(e.index)}\r\n        >\r\n          <TabPanel header={t(\"common:order.orderGeneral\")}>\r\n            <OrderGeneral orderDetail={orderDetail} orderItems={orderItems} />\r\n          </TabPanel>\r\n          <TabPanel header={t(\"common:order.orderInfo\")}>\r\n            <OrderInfo />\r\n          </TabPanel>\r\n          <TabPanel header={t(\"common:order.orderPaymentInfo\")}>\r\n            <OrderPaymentInfo />\r\n          </TabPanel>\r\n          <TabPanel header={t(\"common:order.orderItem\")}>\r\n            <OrderItem />\r\n          </TabPanel>\r\n        </TabView>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}