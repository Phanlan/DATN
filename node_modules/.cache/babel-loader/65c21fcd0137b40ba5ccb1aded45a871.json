{"ast":null,"code":"import _toConsumableArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\eway\\\\src\\\\App.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { useHistory } from 'react-router-dom';\nimport AppTopbar from './AppTopbar';\nimport AppMenu from './AppMenu';\nimport AppConfig from './AppConfig';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport 'primeflex/primeflex.css';\nimport './App.scss';\nimport './assets/fontawesome/css/all.css';\nimport { getTokenCookie } from './TokenCookie';\nimport { Toast } from 'primereact/toast';\nimport { useTranslation } from 'react-i18next';\nimport { locale, addLocale } from 'primereact/api';\nimport { Const, ServiceHandle } from './utilities';\nimport SecureRoute from './routes/SecureRoute';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var UserProfileContext = /*#__PURE__*/React.createContext();\nexport var ToastContext = /*#__PURE__*/React.createContext();\n\nvar App = function App() {\n  _s();\n\n  var _useTranslation = useTranslation('common'),\n      t = _useTranslation.t;\n\n  addLocale('vi', {\n    \"accept\": \"Có\",\n    \"reject\": \"Không\",\n    \"choose\": \"Chọn\",\n    \"upload\": \"Upload\",\n    \"cancel\": \"Hủy\",\n    \"dayNames\": [\"Chủ nhật\", \"Thứ hai\", \"Thứ ba\", \"Thứ tư\", \"Thứ năm\", \"Thứ sáu\", \"Thứ bảy\"],\n    \"dayNamesShort\": [\"CN\", \"T2\", \"T3\", \"T4\", \"T5\", \"T6\", \"T7\"],\n    \"dayNamesMin\": [\"CN\", \"T2\", \"T3\", \"T4\", \"T5\", \"T6\", \"T7\"],\n    \"monthNames\": [\"Tháng Giêng\", \"Tháng Hai\", \"Tháng Ba\", \"Tháng Tư\", \"Tháng Năm\", \"Tháng Sáu\", \"Tháng Bảy\", \"Tháng Tám\", \"Tháng Chín\", \"Tháng Mười\", \"Tháng Mười Một\", \"Tháng Mười Hai\"],\n    \"monthNamesShort\": [\"Giêng\", \"Hai\", \"Ba\", \"Tư\", \"Năm\", \"Sáu\", \"Bảy\", \"Tám\", \"Chín\", \"Mười\", \"Mười Một\", \"Mười Hai\"],\n    \"today\": \"Hôm nay\",\n    \"clear\": \"Làm lại\",\n    \"weekHeader\": \"Wk\",\n    \"firstDayOfWeek\": 1,\n    \"dateFormat\": \"dd/mm/yy\",\n    \"weak\": \"Yếu\",\n    \"medium\": \"Trung bình\",\n    \"strong\": \"Mạnh\",\n    \"passwordPrompt\": \"Nhập một mật khẩu\"\n  });\n  locale('vi');\n  var menuMode = 'static';\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      desktopMenuActive = _useState2[0],\n      setDesktopMenuActive = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mobileMenuActive = _useState4[0],\n      setMobileMenuActive = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      activeTopbarItem = _useState6[0],\n      setActiveTopbarItem = _useState6[1];\n\n  var _useState7 = useState('light'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      colorMode = _useState8[0],\n      setColorMode = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      menuActive = _useState10[0],\n      setMenuActive = _useState10[1];\n\n  var _useState11 = useState('outlined'),\n      _useState12 = _slicedToArray(_useState11, 2),\n      inputStyle = _useState12[0],\n      setInputStyle = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      mobileTopbarActive = _useState14[0],\n      setMobileTopbarActive = _useState14[1];\n\n  var _useState15 = useState('light'),\n      _useState16 = _slicedToArray(_useState15, 2),\n      menuTheme = _useState16[0],\n      setMenuTheme = _useState16[1];\n\n  var _useState17 = useState('blue'),\n      _useState18 = _slicedToArray(_useState17, 2),\n      topbarTheme = _useState18[0],\n      setTopbarTheme = _useState18[1];\n\n  var _useState19 = useState('indigo'),\n      _useState20 = _slicedToArray(_useState19, 2),\n      theme = _useState20[0],\n      setTheme = _useState20[1];\n\n  var topbarItemClick;\n  var menuClick;\n\n  var _useState21 = useState({\n    authorizedModules: [],\n    authorizedMenuModel: []\n  }),\n      _useState22 = _slicedToArray(_useState21, 2),\n      menuModel = _useState22[0],\n      setMenuModel = _useState22[1];\n\n  var _useState23 = useState(),\n      _useState24 = _slicedToArray(_useState23, 2),\n      activeModuleIndex = _useState24[0],\n      setActiveModuleIndex = _useState24[1];\n\n  var _useState25 = useState(0),\n      _useState26 = _slicedToArray(_useState25, 2),\n      activeModuleFeatureIndex = _useState26[0],\n      setActiveModuleFeatureIndex = _useState26[1];\n\n  var _useState27 = useState(0),\n      _useState28 = _slicedToArray(_useState27, 2),\n      activeSubModuleFeatureIndex = _useState28[0],\n      setActiveSubModuleFeatureIndex = _useState28[1];\n\n  var history = useHistory();\n  var toast = useRef();\n  var menu = [{\n    name: 'Sales',\n    label: t('homepage.sales.Sales'),\n    to: '/sales',\n    authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n    level: 'module',\n    items: [{\n      label: t('homepage.Dashboard'),\n      icon: 'fas fa-chart-line',\n      to: '/sales/dashboard',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n      level: 'feature'\n    }, {\n      label: t('homepage.sales.Order'),\n      icon: 'pi pi-fw pi-shopping-cart',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.sales.List'),\n        to: '/sales/order/list',\n        authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.sales.CustomerFollow'),\n      icon: 'far fa-calendar-check',\n      to: '/sales/customerfollow',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n      level: 'feature'\n    }, {\n      label: t('homepage.sales.Return'),\n      icon: 'fas fa-undo',\n      to: '/sales/return',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n      level: 'feature'\n    }, {\n      label: t('homepage.sales.Pricing'),\n      icon: 'fas fa-tag',\n      to: '/sales/pricing',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN'],\n      level: 'feature'\n    }, {\n      label: t('homepage.sales.Promotion'),\n      icon: 'fas fa-percentage',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.sales.List'),\n        to: '/sales/promotion/list',\n        authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.sales.Product'),\n      icon: 'fas fa-cubes',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.sales.List'),\n        to: '/sales/product/list',\n        authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.sales.Category'),\n        to: '/sales/category/list',\n        authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.sales.SaleTeam'),\n      icon: 'fas fa-users',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.sales.List'),\n        to: '/sales/salesman/list',\n        authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.sales.Route'),\n      icon: 'fas fa-route',\n      to: '/sales/route',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n      level: 'feature'\n    }, {\n      label: t('homepage.sales.PersonalCustomer'),\n      icon: 'fas fa-address-book',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.sales.List'),\n        to: '/sales/personalcustomer/list',\n        authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.sales.OrganizationCustomer'),\n      icon: 'fas fa-address-book',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.sales.List'),\n        to: '/sales/organizationcustomer/list',\n        authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.sales.Reporting'),\n      icon: 'fas fa-chart-bar',\n      to: '/sales/reporting',\n      authRoles: ['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\n      level: 'feature'\n    }]\n  }, {\n    name: 'Logistics',\n    label: t('homepage.logistics.Logistics'),\n    to: '/logistics',\n    authRoles: ['ADMIN', 'LOG_MNG'],\n    items: [{\n      label: t('homepage.Dashboard'),\n      icon: 'fas fa-chart-line',\n      to: '/logistics/dashboard',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.logistics.SaleOrders'),\n      icon: 'fas fa-shopping-cart',\n      to: '/logistics/order',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.logistics.Facility'),\n      icon: 'fas fa-warehouse',\n      to: '/logistics/facility',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.logistics.Inventory'),\n      icon: 'fas fa-archive',\n      to: '/logistics/inventory',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.logistics.Export'),\n      icon: 'fas fa-upload',\n      to: '/logistics/export',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.logistics.Import'),\n      icon: 'fas fa-download',\n      to: '/logistics/import',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.logistics.Return'),\n      icon: 'fas fa-undo',\n      to: '/logistics/return',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.logistics.Movement'),\n      icon: 'fas fa-exchange-alt',\n      to: '/logistics/movement',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.logistics.Delivery'),\n      icon: 'fas fa-truck',\n      to: '/logistics/delivery',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.logistics.POSCluster'),\n      icon: 'fas fa-map-marked-alt',\n      to: '/logistics/poscluster',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.logistics.addNew'),\n        to: '/logistics/addposcluster',\n        authRoles: ['ADMIN', 'LOG_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.logistics.list'),\n        to: '/logistics/poscluster',\n        authRoles: ['ADMIN', 'LOG_MNG'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.logistics.employee'),\n      icon: 'fas fa-user',\n      to: '/logistics/shipper/list',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.logistics.addNew'),\n        to: '/logistics/shipper/create',\n        authRoles: ['ADMIN', 'LOG_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.logistics.list'),\n        to: '/logistics/shipper/list',\n        authRoles: ['ADMIN', 'LOG_MNG'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.logistics.Setting'),\n      icon: 'fas fa-tools',\n      to: '/logistics/setting',\n      authRoles: ['ADMIN', 'LOG_MNG'],\n      level: 'feature',\n      items: [{\n        label: t('logistics.settings.inStockConfig'),\n        to: '/logistics/inStockConfig',\n        authRoles: ['ADMIN', 'LOG_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('logistics.settings.dateWithFacility'),\n        to: '/logistics/dateWithFacilityConfig',\n        authRoles: ['ADMIN', 'LOG_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('logistics.settings.brand'),\n        to: '/logistics/brandConfig',\n        authRoles: ['ADMIN', 'LOG_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('logistics.settings.productBrand'),\n        to: '/logistics/productBrandConfig',\n        authRoles: ['ADMIN', 'LOG_MNG'],\n        level: 'subFeature'\n      }]\n    }]\n  }, {\n    name: 'Accounting',\n    label: t('homepage.accounting.Accounting'),\n    to: '/accounting',\n    authRoles: ['ADMIN', 'ACC_MNG'],\n    level: 'module',\n    items: [{\n      label: t('homepage.Dashboard'),\n      icon: 'fas fa-chart-line',\n      to: '/accounting/dashboard',\n      authRoles: ['ADMIN', 'ACC_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.accounting.Receivable'),\n      icon: 'fas fa-folder-plus',\n      to: '/accounting/receivable',\n      authRoles: ['ADMIN', 'ACC_MNG'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.accounting.newARinvoice'),\n        to: '/accounting/receivable/newARinvoice',\n        authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.Invoice'),\n        to: '/accounting/receivable/invoice',\n        authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.Payment'),\n        to: '/accounting/receivable/payment',\n        authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.Order'),\n        to: '/sales/order/list',\n        authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.Delivery'),\n        to: '/accounting/receivable/delivery',\n        authRoles: ['ADMIN', 'ACC_MNG', 'LOG_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.invoiceAging'),\n        to: '/accounting/receivable/ARinvoiceAging',\n        authRoles: ['ADMIN', 'ACC_MNG', 'LOG_MNG'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.accounting.Payable'),\n      icon: 'fas fa-folder-minus',\n      to: '/sales/payable',\n      authRoles: ['ADMIN', 'ACC_MNG'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.accounting.newAPinvoice'),\n        to: '/accounting/payable/newAPinvoice',\n        authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.Invoice'),\n        to: '/accounting/payable/invoice',\n        authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.Payment'),\n        to: '/accounting/payable/payment',\n        authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.Order'),\n        to: '/sales/order/list',\n        authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.StockIn'),\n        to: '/accounting/payable/delivery',\n        authRoles: ['ADMIN', 'ACC_MNG', 'LOG_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.invoiceAgingAP'),\n        to: '/accounting/payable/payableInvoiceAging',\n        authRoles: ['ADMIN', 'ACC_MNG', 'LOG_MNG'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.accounting.Transaction'),\n      icon: 'fas fa-exchange-alt',\n      to: '/accounting/transaction',\n      authRoles: ['ADMIN', 'ACC_MNG'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.accounting.TransactionList'),\n        to: '/accounting/transaction',\n        authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.accounting.Supplier'),\n      icon: 'fas fa-address-book',\n      to: '/sales/supplier',\n      authRoles: ['ADMIN', 'ACC_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.accounting.Reporting'),\n      icon: 'fas fa-chart-bar',\n      to: '/accounting/reporting',\n      authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n      level: 'feature'\n    }, {\n      label: t('homepage.accounting.Setting'),\n      icon: 'fas fa-tools',\n      to: '/accounting/setting',\n      authRoles: ['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.accounting.chartOfAccounts'),\n        to: '/accounting/settings/glAccounts',\n        authRoles: ['ADMIN', 'ACC_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.accountingTimePeriods'),\n        to: '/accounting/settings/accountingPeriods',\n        authRoles: ['ADMIN', 'ACC_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.invoiceTypes'),\n        to: '/accounting/settings/InvoiceTypes',\n        authRoles: ['ADMIN', 'ACC_MNG'],\n        level: 'subFeature'\n      }, {\n        label: t('homepage.accounting.invoiceItemTypes'),\n        to: '/accounting/settings/InvoiceItemTypes',\n        authRoles: ['ADMIN', 'ACC_MNG'],\n        level: 'subFeature'\n      }]\n    }]\n  }, {\n    name: 'Purchasing',\n    label: t('homepage.purchasing.Purchasing'),\n    to: '/purchasing',\n    authRoles: ['ADMIN', 'PUR_MNG'],\n    level: 'module',\n    items: [{\n      label: t('homepage.Dashboard'),\n      icon: 'fas fa-chart-line',\n      to: '/purchasing/dashboard',\n      authRoles: ['ADMIN', 'PUR_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.purchasing.PurchasingOrder'),\n      icon: 'fas fa-shopping-cart',\n      authRoles: ['ADMIN', 'PUR_MNG'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.sales.List'),\n        to: \"/purchasing/order/list\",\n        authRoles: [\"ADMIN\", \"PO_MNG\"],\n        level: \"subFeature\"\n      }, {\n        label: t('homepage.sales.Create'),\n        to: '/purchasing/order/create',\n        authRoles: ['ADMIN', 'PO_MNG'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.purchasing.Return'),\n      icon: 'fas fa-undo',\n      to: '/purchasing/return',\n      authRoles: ['ADMIN', 'PUR_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.purchasing.Product'),\n      icon: 'fas fa-cubes',\n      authRoles: ['ADMIN', 'PUR_MNG'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.sales.List'),\n        to: \"/purchasing/product/list\",\n        authRoles: [\"ADMIN\", \"PO_MNG\"],\n        level: \"subFeature\"\n      }, {\n        label: t('homepage.sales.Create'),\n        to: '/purchasing/product/create',\n        authRoles: ['ADMIN', 'PO_MNG'],\n        level: 'subFeature'\n      }]\n    }, {\n      label: t('homepage.purchasing.Inventory'),\n      icon: 'fas fa-archive',\n      to: '/purchasing/inventory',\n      authRoles: ['ADMIN', 'PUR_MNG'],\n      level: 'feature'\n    }, {\n      label: t('homepage.purchasing.Supplier'),\n      icon: 'fas fa-address-book',\n      authRoles: ['ADMIN', 'PUR_MNG'],\n      level: 'feature',\n      items: [{\n        label: t('homepage.sales.List'),\n        to: \"/purchasing/supplier/list\",\n        authRoles: [\"ADMIN\", \"PO_MNG\"],\n        level: \"subFeature\"\n      }, {\n        label: 'gia san pham',\n        to: \"/purchasing/supplier/productp\",\n        authRoles: [\"ADMIN\", \"PO_MNG\"],\n        level: \"subFeature\"\n      }]\n    }, {\n      label: t('homepage.purchasing.Setting'),\n      icon: 'fas fa-tools',\n      to: '/purchasing/setting',\n      authRoles: ['ADMIN', 'PUR_MNG'],\n      level: 'feature'\n    }]\n  }, {\n    name: 'POS',\n    label: 'POS',\n    to: '/pos',\n    authRoles: ['ADMIN', 'CAISSIER'],\n    level: 'module',\n    items: []\n  }];\n\n  var _useState29 = useState({\n    info: {},\n    roles: []\n  }),\n      _useState30 = _slicedToArray(_useState29, 2),\n      userProfile = _useState30[0],\n      setUserProfile = _useState30[1];\n\n  useEffect(function () {\n    ServiceHandle.get(Const.API.GetUserProfile, {}, {\n      headers: {\n        \"x-csrf-token\": getTokenCookie()\n      }\n    }).then(function (res) {\n      if (res.data.userGroupList.length > 0) {\n        setUserProfile({\n          info: res.data.userInfo,\n          roles: res.data.userGroupList.map(function (userGroup) {\n            return userGroup.userGroupId;\n          })\n        });\n        var newMenu = menu.filter(function (item) {\n          var roles = res.data.userGroupList.map(function (userGroup) {\n            return userGroup.userGroupId;\n          });\n          var flag = false;\n          roles.forEach(function (role) {\n            if (item.authRoles.includes(role)) {\n              flag = true;\n              return true;\n            }\n          });\n          return flag;\n        });\n        var moduleIndex = newMenu.findIndex(function (module) {\n          return module.name === res.data.userInfo.lastModuleAccess;\n        });\n\n        if (moduleIndex === -1) {\n          setActiveModuleIndex(0);\n        } else {\n          setActiveModuleIndex(moduleIndex);\n        }\n      } else {\n        history.push(\"/unauthorized\");\n      }\n    }).catch(function (err) {\n      history.push(\"/login\");\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(function () {\n    for (var i = 0; i < menu.length; i++) {\n      var subMenu = menu[i].items;\n\n      for (var l = 0; l < subMenu.length; l++) {\n        if (subMenu[l].to) {\n          if (subMenu[l].to === history.location.pathname) {\n            setActiveModuleFeatureIndex(l);\n          }\n        } else {\n          var sub2Menu = subMenu[l].items;\n\n          for (var k = 0; k < sub2Menu.length; k++) {\n            if (sub2Menu[k].to === history.location.pathname) {\n              setActiveModuleFeatureIndex(l);\n              setActiveSubModuleFeatureIndex(k);\n            }\n          }\n        }\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(function () {\n    if (userProfile.roles.length === 0 || typeof activeModuleIndex == 'undefined') {\n      return;\n    }\n\n    ServiceHandle.post(Const.API.UpdateLastModuleAccess, {\n      moduleName: menu[activeModuleIndex].name\n    }).then(function (res) {//do nothing\n    }).catch(function (err) {\n      toast.current.show({\n        severity: 'error',\n        summary: 'Error Message',\n        detail: err.response.data.errors,\n        life: 5000\n      });\n      history.push(\"/login\");\n    });\n\n    if (menuModel.authorizedMenuModel !== undefined) {\n      if (menuModel.authorizedMenuModel[activeModuleIndex].items.length > 0) {\n        if (menuModel.authorizedMenuModel[activeModuleIndex].items[activeModuleFeatureIndex].items) {\n          history.push(menuModel.authorizedMenuModel[activeModuleIndex].items[activeModuleFeatureIndex].items[activeSubModuleFeatureIndex].to);\n        } else {\n          history.push(menuModel.authorizedMenuModel[activeModuleIndex].items[activeModuleFeatureIndex].to);\n        }\n      } else {\n        history.push(menuModel.authorizedMenuModel[activeModuleIndex].to);\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [activeModuleIndex, activeModuleFeatureIndex, activeSubModuleFeatureIndex]);\n  useEffect(function () {\n    setMenuModel(getAuthorizedMenuModel()); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userProfile]);\n\n  var getAuthorizedMenuModel = function getAuthorizedMenuModel() {\n    if (userProfile.roles.length > 0) {\n      var moduleReducer = function moduleReducer(accumulator, module) {\n        if (module.authRoles.some(function (role) {\n          return userProfile.roles.includes(role);\n        })) {\n          accumulator.push({\n            label: module.label,\n            to: module.to,\n            level: module.level\n          });\n        }\n\n        return accumulator;\n      };\n\n      var menuModelReducer = function menuModelReducer(accumulator, module) {\n        if (module.authRoles.some(function (role) {\n          return userProfile.roles.includes(role);\n        })) {\n          accumulator.push({\n            label: module.label,\n            to: module.to,\n            items: module.items,\n            level: module.level\n          });\n        }\n\n        return accumulator;\n      };\n\n      var authorizedModules = menu.reduce(moduleReducer, []);\n      var authorizedMenuModelTemp = menu.reduce(menuModelReducer, []);\n      var authorizedMenuModel = authorizedMenuModelTemp.map(function (module) {\n        var moduleItem = {\n          label: module.label,\n          to: module.to,\n          level: module.level\n        };\n        moduleItem.items = _toConsumableArray(module.items.filter(function (item) {\n          return item.authRoles.some(function (role) {\n            return userProfile.roles.includes(role);\n          });\n        }));\n        moduleItem.items.forEach(function (item) {\n          if (typeof item.items != 'undefined' && item.items != null) {\n            item.items = _toConsumableArray(item.items.filter(function (subItem) {\n              return subItem.authRoles.some(function (role) {\n                return userProfile.roles.includes(role);\n              });\n            }));\n          }\n        });\n        return moduleItem;\n      });\n      return {\n        authorizedModules: authorizedModules,\n        authorizedMenuModel: authorizedMenuModel\n      };\n    } else return {\n      authorizedModules: [],\n      authorizedMenuModel: []\n    };\n  };\n\n  useEffect(function () {\n    onColorModeChange(colorMode);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var onMenuThemeChange = function onMenuThemeChange(theme) {\n    setMenuTheme(theme);\n  };\n\n  var onTopbarThemeChange = function onTopbarThemeChange(theme) {\n    setTopbarTheme(theme);\n  };\n\n  useEffect(function () {\n    var appLogoLink = document.getElementById('app-logo');\n\n    if (typeof appLogoLink != 'undefined' && appLogoLink != null) {\n      if (topbarTheme === 'white' || topbarTheme === 'yellow' || topbarTheme === 'amber' || topbarTheme === 'orange' || topbarTheme === 'lime') {\n        appLogoLink.src = 'assets/layout/images/logo-dark.svg';\n      } else {\n        appLogoLink.src = 'assets/layout/images/logo-light.svg';\n      }\n    }\n  }, [topbarTheme]);\n\n  var onThemeChange = function onThemeChange(theme) {\n    setTheme(theme);\n    var themeLink = document.getElementById('theme-css');\n    var themeHref = 'assets/theme/' + theme + '/theme-' + colorMode + '.css';\n    replaceLink(themeLink, themeHref);\n  };\n\n  var onColorModeChange = function onColorModeChange(mode) {\n    setColorMode(mode);\n\n    if (mode === 'dark') {\n      setMenuTheme('dark');\n      setTopbarTheme('dark');\n    } else {\n      setMenuTheme('light');\n      setTopbarTheme('blue');\n    }\n\n    var layoutLink = document.getElementById('layout-css'); // disappear css\n\n    var layoutHref = 'assets/layout/css/layout-' + mode + '.css';\n    replaceLink(layoutLink, layoutHref);\n    var themeLink = document.getElementById('theme-css');\n    var urlTokens = themeLink.getAttribute('href').split('/');\n    urlTokens[urlTokens.length - 1] = 'theme-' + mode + '.css';\n    var newURL = urlTokens.join('/');\n    replaceLink(themeLink, newURL, function () {});\n  };\n\n  var replaceLink = function replaceLink(linkElement, href, callback) {\n    if (isIE()) {\n      linkElement.setAttribute('href', href);\n\n      if (callback) {\n        callback();\n      }\n    } else {\n      var id = linkElement.getAttribute('id');\n      var cloneLinkElement = linkElement.cloneNode(true);\n      cloneLinkElement.setAttribute('href', href);\n      cloneLinkElement.setAttribute('id', id + '-clone');\n      linkElement.parentNode.insertBefore(cloneLinkElement, linkElement.nextSibling);\n      cloneLinkElement.addEventListener('load', function () {\n        linkElement.remove();\n        cloneLinkElement.setAttribute('id', id);\n\n        if (callback) {\n          callback();\n        }\n      });\n    }\n  };\n\n  var onInputStyleChange = function onInputStyleChange(inputStyle) {\n    setInputStyle(inputStyle);\n  };\n\n  var onMenuClick = function onMenuClick(event) {\n    menuClick = true;\n  };\n\n  var onMenuButtonClick = function onMenuButtonClick(event) {\n    menuClick = true;\n    if (isDesktop()) setDesktopMenuActive(function (prevState) {\n      return !prevState;\n    });else setMobileMenuActive(function (prevState) {\n      return !prevState;\n    });\n    event.preventDefault();\n  };\n\n  var onTopbarItemClick = function onTopbarItemClick(event) {\n    topbarItemClick = true;\n    if (activeTopbarItem === event.item) setActiveTopbarItem(null);else {\n      setActiveTopbarItem(event.item);\n    }\n    event.originalEvent.preventDefault();\n  };\n\n  var onMobileTopbarButtonClick = function onMobileTopbarButtonClick(event) {\n    setMobileTopbarActive(function (prevState) {\n      return !prevState;\n    });\n    event.preventDefault();\n  };\n\n  var onDocumentClick = function onDocumentClick(event) {\n    if (!topbarItemClick) {\n      setActiveTopbarItem(null);\n    }\n\n    if (!menuClick && (menuMode === 'overlay' || !isDesktop())) {\n      if (isHorizontal() || isSlim()) {\n        setMenuActive(false);\n      }\n\n      hideOverlayMenu();\n    }\n\n    if (!menuClick && (isSlim() || isHorizontal())) {\n      setMenuActive(false);\n    }\n\n    topbarItemClick = false;\n    menuClick = false;\n  };\n\n  var hideOverlayMenu = function hideOverlayMenu() {\n    setMobileMenuActive(false);\n    setDesktopMenuActive(false);\n  };\n\n  var isDesktop = function isDesktop() {\n    return window.innerWidth > 1024;\n  };\n\n  var isHorizontal = function isHorizontal() {\n    return menuMode === 'horizontal';\n  };\n\n  var isSlim = function isSlim() {\n    return menuMode === 'slim';\n  };\n\n  var isIE = function isIE() {\n    return /(MSIE|Trident\\/|Edge\\/)/i.test(window.navigator.userAgent);\n  };\n\n  var isNotPosAndDeskTopMenuActive = desktopMenuActive;\n\n  if (activeModuleIndex !== undefined && menuModel.authorizedMenuModel !== undefined) {\n    isNotPosAndDeskTopMenuActive = menuModel.authorizedMenuModel[activeModuleIndex].label === 'POS' ? false : desktopMenuActive;\n  }\n\n  var layoutContainerClassName = classNames('layout-wrapper ', 'layout-menu-' + menuTheme + ' layout-topbar-' + topbarTheme, {\n    'layout-menu-static': menuMode === 'static',\n    'layout-menu-overlay': menuMode === 'overlay',\n    'layout-menu-slim': menuMode === 'slim',\n    'layout-menu-horizontal': menuMode === 'horizontal',\n    'layout-menu-active': isNotPosAndDeskTopMenuActive,\n    'layout-menu-mobile-active': mobileMenuActive,\n    'layout-topbar-mobile-active': mobileTopbarActive,\n    'layout-rightmenu-active': false,\n    'p-input-filled': inputStyle === 'filled',\n    'p-ripple-disabled': false\n  });\n\n  if (userProfile.roles.length === 0 || typeof activeModuleIndex == 'undefined') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 16\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(UserProfileContext.Provider, {\n    value: userProfile,\n    children: /*#__PURE__*/_jsxDEV(ToastContext.Provider, {\n      value: toast,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: layoutContainerClassName,\n        onClick: onDocumentClick,\n        children: [/*#__PURE__*/_jsxDEV(AppTopbar, {\n          horizontal: isHorizontal(),\n          activeTopbarItem: activeTopbarItem,\n          onMenuButtonClick: onMenuButtonClick,\n          onTopbarItemClick: onTopbarItemClick,\n          onMobileTopbarButtonClick: onMobileTopbarButtonClick,\n          mobileTopbarActive: mobileTopbarActive,\n          moduleItems: menuModel.authorizedModules,\n          activeModuleIndex: activeModuleIndex,\n          activeModuleFeatureIndex: activeModuleFeatureIndex,\n          activeSubModuleFeatureIndex: activeSubModuleFeatureIndex,\n          setActiveModuleIndex: setActiveModuleIndex,\n          setActiveModuleFeatureIndex: setActiveModuleFeatureIndex,\n          setActiveSubModuleFeatureIndex: setActiveSubModuleFeatureIndex,\n          menuModel: menuModel.authorizedMenuModel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-wrapper\",\n          onClick: onMenuClick,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"layout-menu-container\",\n            children: menuModel.authorizedMenuModel.length && menuModel.authorizedMenuModel[activeModuleIndex].label !== 'POS' && /*#__PURE__*/_jsxDEV(AppMenu, {\n              model: [menuModel.authorizedMenuModel[activeModuleIndex]],\n              menuMode: menuMode,\n              active: menuActive,\n              activeModuleIndex: activeModuleIndex,\n              activeModuleFeatureIndex: activeModuleFeatureIndex,\n              activeSubModuleFeatureIndex: activeSubModuleFeatureIndex,\n              setActiveModuleIndex: setActiveModuleIndex,\n              setActiveModuleFeatureIndex: setActiveModuleFeatureIndex,\n              setActiveSubModuleFeatureIndex: setActiveSubModuleFeatureIndex\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 21\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 21\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(Toast, {\n          ref: toast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"layout-main\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"layout-content\",\n            children: /*#__PURE__*/_jsxDEV(SecureRoute, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 20\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 21\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(AppConfig, {\n          inputStyle: inputStyle,\n          onInputStyleChange: onInputStyleChange,\n          menuMode: menuMode,\n          colorMode: colorMode,\n          onColorModeChange: onColorModeChange,\n          menuTheme: menuTheme,\n          onMenuThemeChange: onMenuThemeChange,\n          topbarTheme: topbarTheme,\n          onTopbarThemeChange: onTopbarThemeChange,\n          theme: theme,\n          onThemeChange: onThemeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 17\n        }, _this), mobileMenuActive && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"layout-mask modal-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 38\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 13\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 58\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 560,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(App, \"CLJVSmYDGSopnmNAHMyGzQeyt+g=\", false, function () {\n  return [useTranslation, useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/eway/src/App.js"],"names":["React","useEffect","useRef","useState","classNames","useHistory","AppTopbar","AppMenu","AppConfig","getTokenCookie","Toast","useTranslation","locale","addLocale","Const","ServiceHandle","SecureRoute","UserProfileContext","createContext","ToastContext","App","t","menuMode","desktopMenuActive","setDesktopMenuActive","mobileMenuActive","setMobileMenuActive","activeTopbarItem","setActiveTopbarItem","colorMode","setColorMode","menuActive","setMenuActive","inputStyle","setInputStyle","mobileTopbarActive","setMobileTopbarActive","menuTheme","setMenuTheme","topbarTheme","setTopbarTheme","theme","setTheme","topbarItemClick","menuClick","authorizedModules","authorizedMenuModel","menuModel","setMenuModel","activeModuleIndex","setActiveModuleIndex","activeModuleFeatureIndex","setActiveModuleFeatureIndex","activeSubModuleFeatureIndex","setActiveSubModuleFeatureIndex","history","toast","menu","name","label","to","authRoles","level","items","icon","info","roles","userProfile","setUserProfile","get","API","GetUserProfile","headers","then","res","data","userGroupList","length","userInfo","map","userGroup","userGroupId","newMenu","filter","item","flag","forEach","role","includes","moduleIndex","findIndex","module","lastModuleAccess","push","catch","err","i","subMenu","l","location","pathname","sub2Menu","k","post","UpdateLastModuleAccess","moduleName","current","show","severity","summary","detail","response","errors","life","undefined","getAuthorizedMenuModel","moduleReducer","accumulator","some","menuModelReducer","reduce","authorizedMenuModelTemp","moduleItem","subItem","onColorModeChange","onMenuThemeChange","onTopbarThemeChange","appLogoLink","document","getElementById","src","onThemeChange","themeLink","themeHref","replaceLink","mode","layoutLink","layoutHref","urlTokens","getAttribute","split","newURL","join","linkElement","href","callback","isIE","setAttribute","id","cloneLinkElement","cloneNode","parentNode","insertBefore","nextSibling","addEventListener","remove","onInputStyleChange","onMenuClick","event","onMenuButtonClick","isDesktop","prevState","preventDefault","onTopbarItemClick","originalEvent","onMobileTopbarButtonClick","onDocumentClick","isHorizontal","isSlim","hideOverlayMenu","window","innerWidth","test","navigator","userAgent","isNotPosAndDeskTopMenuActive","layoutContainerClassName"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState} from 'react';\r\nimport classNames from 'classnames';\r\nimport { useHistory } from 'react-router-dom'\r\nimport AppTopbar from './AppTopbar';\r\nimport AppMenu from './AppMenu';\r\nimport AppConfig from './AppConfig';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport 'primeflex/primeflex.css';\r\nimport './App.scss';\r\nimport './assets/fontawesome/css/all.css';\r\nimport { getTokenCookie } from './TokenCookie';\r\nimport { Toast } from 'primereact/toast';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { locale, addLocale} from 'primereact/api';\r\nimport { Const, ServiceHandle } from './utilities';\r\nimport SecureRoute from './routes/SecureRoute';\r\n\r\n\r\nexport const UserProfileContext = React.createContext();\r\nexport const ToastContext = React.createContext();\r\n\r\nconst App = () => {\r\n    const {t} = useTranslation('common');\r\n    addLocale('vi', {\r\n        \"accept\": \"Có\",\r\n        \"reject\": \"Không\",\r\n        \"choose\": \"Chọn\",\r\n        \"upload\": \"Upload\",\r\n        \"cancel\": \"Hủy\",\r\n        \"dayNames\": [\"Chủ nhật\", \"Thứ hai\", \"Thứ ba\", \"Thứ tư\", \"Thứ năm\", \"Thứ sáu\", \"Thứ bảy\"],\r\n        \"dayNamesShort\": [\"CN\", \"T2\", \"T3\", \"T4\", \"T5\", \"T6\", \"T7\"],\r\n        \"dayNamesMin\": [\"CN\", \"T2\", \"T3\", \"T4\", \"T5\", \"T6\", \"T7\"],\r\n        \"monthNames\": [\"Tháng Giêng\", \"Tháng Hai\", \"Tháng Ba\", \"Tháng Tư\", \"Tháng Năm\", \"Tháng Sáu\", \"Tháng Bảy\", \"Tháng Tám\", \"Tháng Chín\", \"Tháng Mười\", \"Tháng Mười Một\", \"Tháng Mười Hai\"],\r\n        \"monthNamesShort\": [\"Giêng\", \"Hai\", \"Ba\", \"Tư\", \"Năm\", \"Sáu\", \"Bảy\", \"Tám\", \"Chín\", \"Mười\", \"Mười Một\", \"Mười Hai\"],\r\n        \"today\": \"Hôm nay\",\r\n        \"clear\": \"Làm lại\",\r\n        \"weekHeader\": \"Wk\",\r\n        \"firstDayOfWeek\": 1,\r\n        \"dateFormat\": \"dd/mm/yy\",\r\n        \"weak\": \"Yếu\",\r\n        \"medium\": \"Trung bình\",\r\n        \"strong\": \"Mạnh\",\r\n        \"passwordPrompt\": \"Nhập một mật khẩu\"\r\n    });\r\n    locale('vi');\r\n\r\n    const menuMode = 'static';\r\n    const [desktopMenuActive, setDesktopMenuActive] = useState(true);\r\n    const [mobileMenuActive, setMobileMenuActive] = useState(false);\r\n    const [activeTopbarItem, setActiveTopbarItem] = useState(null);\r\n    const [colorMode, setColorMode] = useState('light');\r\n    const [menuActive, setMenuActive] = useState(false);\r\n    const [inputStyle, setInputStyle] = useState('outlined');\r\n    const [mobileTopbarActive, setMobileTopbarActive] = useState(false);\r\n    const [menuTheme, setMenuTheme] = useState('light');\r\n    const [topbarTheme, setTopbarTheme] = useState('blue');\r\n    const [theme, setTheme] = useState('indigo');\r\n\r\n    let topbarItemClick;\r\n    let menuClick;\r\n\r\n    const [menuModel, setMenuModel] = useState({authorizedModules:[], authorizedMenuModel:[]});\r\n    const [activeModuleIndex, setActiveModuleIndex] = useState();\r\n    const [activeModuleFeatureIndex, setActiveModuleFeatureIndex] = useState(0);\r\n    const [activeSubModuleFeatureIndex, setActiveSubModuleFeatureIndex] = useState(0);\r\n\r\n    const history = useHistory();\r\n    const toast = useRef();\r\n\r\n    const menu = [\r\n        {\r\n            name: 'Sales',\r\n            label: t('homepage.sales.Sales'), to:'/sales', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'],\r\n            level: 'module',\r\n            items: [\r\n                { label: t('homepage.Dashboard'), icon: 'fas fa-chart-line', to: '/sales/dashboard', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'feature'},\r\n                { label: t('homepage.sales.Order'), icon: 'pi pi-fw pi-shopping-cart', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'feature',\r\n                    items:[\r\n                        {label: t('homepage.sales.List'), to: '/sales/order/list', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'subFeature'}\r\n                    ]\r\n                },\r\n                { label: t('homepage.sales.CustomerFollow'), icon: 'far fa-calendar-check', to: '/sales/customerfollow', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'feature'},\r\n                { label: t('homepage.sales.Return'), icon: 'fas fa-undo', to: '/sales/return', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'feature' },\r\n                { label: t('homepage.sales.Pricing'), icon: 'fas fa-tag', to: '/sales/pricing', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN'], level: 'feature' },\r\n                { label: t('homepage.sales.Promotion'), icon: 'fas fa-percentage', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN'], level: 'feature',\r\n                    items:[\r\n                        {label: t('homepage.sales.List'), to: '/sales/promotion/list', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'}\r\n                    ]\r\n                },\r\n                { label: t('homepage.sales.Product'), icon: 'fas fa-cubes', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN'], level: 'feature',\r\n                    items:[\r\n                        {label: t('homepage.sales.List'), to: '/sales/product/list', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                        {label: t('homepage.sales.Category'), to: '/sales/category/list', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'}\r\n                    ]\r\n                },\r\n                { label: t('homepage.sales.SaleTeam'), icon: 'fas fa-users', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN'], level: 'feature',\r\n                    items:[\r\n                        {label: t('homepage.sales.List'), to: '/sales/salesman/list', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'}\r\n                    ]\r\n                },\r\n                { label: t('homepage.sales.Route'), icon: 'fas fa-route', to: '/sales/route', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'feature' },\r\n                { label: t('homepage.sales.PersonalCustomer'), icon: 'fas fa-address-book', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'feature',\r\n                    items:[\r\n                        {label: t('homepage.sales.List'), to: '/sales/personalcustomer/list', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'subFeature'}\r\n                    ]\r\n                },\r\n                { label: t('homepage.sales.OrganizationCustomer'), icon: 'fas fa-address-book', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'feature',\r\n                    items:[\r\n                        {label: t('homepage.sales.List'), to: '/sales/organizationcustomer/list', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'subFeature'}\r\n                    ]\r\n                },\r\n                { label: t('homepage.sales.Reporting'), icon: 'fas fa-chart-bar', to: '/sales/reporting', authRoles:['ADMIN', 'SALES_MNG', 'SALES_ADMIN', 'SALES_EMPLOYEE'], level: 'feature'},\r\n            ]\r\n        },\r\n        {\r\n            name: 'Logistics',\r\n            label: t('homepage.logistics.Logistics'), to: '/logistics', authRoles:['ADMIN', 'LOG_MNG'],\r\n            items: [\r\n                { label: t('homepage.Dashboard'), icon: 'fas fa-chart-line', to: '/logistics/dashboard',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature'},\r\n                { label: t('homepage.logistics.SaleOrders'), icon: 'fas fa-shopping-cart', to: '/logistics/order',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature'},\r\n                { label: t('homepage.logistics.Facility'), icon: 'fas fa-warehouse', to: '/logistics/facility',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature'},\r\n                { label: t('homepage.logistics.Inventory'), icon: 'fas fa-archive', to: '/logistics/inventory',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature'},\r\n                { label: t('homepage.logistics.Export'), icon: 'fas fa-upload', to: '/logistics/export',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature'},\r\n                { label: t('homepage.logistics.Import'), icon: 'fas fa-download', to: '/logistics/import',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature'},\r\n                { label: t('homepage.logistics.Return'), icon: 'fas fa-undo', to: '/logistics/return',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature'},\r\n                { label: t('homepage.logistics.Movement'), icon: 'fas fa-exchange-alt', to: '/logistics/movement',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature'},\r\n                { label: t('homepage.logistics.Delivery'), icon: 'fas fa-truck', to: '/logistics/delivery',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature'},\r\n                { label: t('homepage.logistics.POSCluster'), icon: 'fas fa-map-marked-alt', to: '/logistics/poscluster',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature',\r\n                    items: [\r\n                        {label: t('homepage.logistics.addNew'), to: '/logistics/addposcluster', authRoles:['ADMIN', 'LOG_MNG'], level: 'subFeature'},\r\n                        {label: t('homepage.logistics.list'), to: '/logistics/poscluster', authRoles:['ADMIN', 'LOG_MNG'], level: 'subFeature'}\r\n                    ]\r\n                },\r\n                { label: t('homepage.logistics.employee'), icon: 'fas fa-user', to: '/logistics/shipper/list',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature',\r\n                    items: [\r\n                        {label: t('homepage.logistics.addNew'), to: '/logistics/shipper/create', authRoles:['ADMIN', 'LOG_MNG'], level: 'subFeature'},\r\n                        {label: t('homepage.logistics.list'), to: '/logistics/shipper/list', authRoles:['ADMIN', 'LOG_MNG'], level: 'subFeature'}\r\n                    ]\r\n                },\r\n\r\n                { label: t('homepage.logistics.Setting'), icon: 'fas fa-tools', to: '/logistics/setting',authRoles:['ADMIN', 'LOG_MNG'], level: 'feature',\r\n                    items: [\r\n                        {label: t('logistics.settings.inStockConfig'), to: '/logistics/inStockConfig', authRoles:['ADMIN', 'LOG_MNG'], level: 'subFeature'},\r\n                        {label: t('logistics.settings.dateWithFacility'), to: '/logistics/dateWithFacilityConfig', authRoles:['ADMIN', 'LOG_MNG'], level: 'subFeature'},\r\n                        {label: t('logistics.settings.brand'), to: '/logistics/brandConfig', authRoles:['ADMIN', 'LOG_MNG'], level: 'subFeature'},\r\n                        {label: t('logistics.settings.productBrand'), to: '/logistics/productBrandConfig', authRoles:['ADMIN', 'LOG_MNG'], level: 'subFeature'}\r\n                    ]\r\n                },\r\n\r\n            ]\r\n        },\r\n        {\r\n            name: 'Accounting',\r\n            label: t('homepage.accounting.Accounting'), to: '/accounting', authRoles:['ADMIN', 'ACC_MNG'],\r\n            level: 'module',\r\n            items: [\r\n                { label: t('homepage.Dashboard'), icon: 'fas fa-chart-line', to: '/accounting/dashboard', authRoles:['ADMIN', 'ACC_MNG'], level: 'feature'},\r\n                { label: t('homepage.accounting.Receivable'), icon: 'fas fa-folder-plus', to: '/accounting/receivable', authRoles:['ADMIN', 'ACC_MNG'], level: 'feature',\r\n                  items:[\r\n                    {label: t('homepage.accounting.newARinvoice'), to: '/accounting/receivable/newARinvoice', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                    {label: t('homepage.accounting.Invoice'), to: '/accounting/receivable/invoice', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                    {label: t('homepage.accounting.Payment'), to: '/accounting/receivable/payment', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                    {label: t('homepage.accounting.Order'), to: '/sales/order/list', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                    { label: t('homepage.accounting.Delivery'), to: '/accounting/receivable/delivery',authRoles:['ADMIN', 'ACC_MNG', 'LOG_MNG'], level: 'subFeature'},\r\n                    { label: t('homepage.accounting.invoiceAging'), to: '/accounting/receivable/ARinvoiceAging',authRoles:['ADMIN', 'ACC_MNG', 'LOG_MNG'], level: 'subFeature'},\r\n                  ]\r\n                },\r\n                { label: t('homepage.accounting.Payable'), icon: 'fas fa-folder-minus', to: '/sales/payable', authRoles:['ADMIN', 'ACC_MNG'], level: 'feature',\r\n                  items:[\r\n                    {label: t('homepage.accounting.newAPinvoice'), to: '/accounting/payable/newAPinvoice', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                    {label: t('homepage.accounting.Invoice'), to: '/accounting/payable/invoice', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                    {label: t('homepage.accounting.Payment'), to: '/accounting/payable/payment', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                    {label: t('homepage.accounting.Order'), to: '/sales/order/list', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                    { label: t('homepage.accounting.StockIn'), to: '/accounting/payable/delivery',authRoles:['ADMIN', 'ACC_MNG', 'LOG_MNG'], level: 'subFeature'},\r\n                    { label: t('homepage.accounting.invoiceAgingAP'), to: '/accounting/payable/payableInvoiceAging',authRoles:['ADMIN', 'ACC_MNG', 'LOG_MNG'], level: 'subFeature'},\r\n                  ]\r\n                },\r\n                { label: t('homepage.accounting.Transaction'), icon: 'fas fa-exchange-alt', to: '/accounting/transaction', authRoles:['ADMIN', 'ACC_MNG'], level: 'feature',\r\n                    items:[\r\n                      {label: t('homepage.accounting.TransactionList'), to: '/accounting/transaction', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'subFeature'},\r\n                    ]\r\n                },\r\n                { label: t('homepage.accounting.Supplier'), icon: 'fas fa-address-book', to: '/sales/supplier', authRoles:['ADMIN', 'ACC_MNG'], level: 'feature'},\r\n                { label: t('homepage.accounting.Reporting'), icon: 'fas fa-chart-bar', to: '/accounting/reporting', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'feature'},\r\n                { label: t('homepage.accounting.Setting'), icon: 'fas fa-tools', to: '/accounting/setting', authRoles:['ADMIN', 'ACC_MNG', 'SALES_MNG', 'SALES_ADMIN'], level: 'feature',\r\n                    items:[\r\n                        {label: t('homepage.accounting.chartOfAccounts'), to: '/accounting/settings/glAccounts', authRoles:['ADMIN', 'ACC_MNG'], level: 'subFeature'},\r\n                        {label: t('homepage.accounting.accountingTimePeriods'), to: '/accounting/settings/accountingPeriods', authRoles:['ADMIN', 'ACC_MNG'], level: 'subFeature'},\r\n                        {label: t('homepage.accounting.invoiceTypes'), to: '/accounting/settings/InvoiceTypes', authRoles:['ADMIN', 'ACC_MNG'], level: 'subFeature'},\r\n                        { label: t('homepage.accounting.invoiceItemTypes'), to: '/accounting/settings/InvoiceItemTypes',authRoles:['ADMIN', 'ACC_MNG'], level: 'subFeature'},\r\n                    ]},\r\n            ]\r\n        },\r\n        {\r\n            name: 'Purchasing',\r\n            label: t('homepage.purchasing.Purchasing'), to: '/purchasing', authRoles:['ADMIN', 'PUR_MNG'],\r\n            level: 'module',\r\n            items: [\r\n                { label: t('homepage.Dashboard'), icon: 'fas fa-chart-line', to: '/purchasing/dashboard', authRoles:['ADMIN', 'PUR_MNG'], level: 'feature'},\r\n                { label: t('homepage.purchasing.PurchasingOrder'), icon: 'fas fa-shopping-cart', authRoles:['ADMIN', 'PUR_MNG'], level: 'feature',\r\n                  items: [\r\n                    { label: t('homepage.sales.List'), to: \"/purchasing/order/list\", authRoles: [\"ADMIN\", \"PO_MNG\"], level: \"subFeature\" },\r\n\t\t\t\t\t\t        { label: t('homepage.sales.Create'), to: '/purchasing/order/create', authRoles:['ADMIN', 'PO_MNG'], level: 'subFeature'},\r\n                  ]\r\n                },\r\n                { label: t('homepage.purchasing.Return'), icon: 'fas fa-undo', to: '/purchasing/return', authRoles:['ADMIN', 'PUR_MNG'], level: 'feature'},\r\n                { label: t('homepage.purchasing.Product'), icon: 'fas fa-cubes', authRoles:['ADMIN', 'PUR_MNG'], level: 'feature', \r\n                  items: [\r\n                    { label: t('homepage.sales.List'), to: \"/purchasing/product/list\", authRoles: [\"ADMIN\", \"PO_MNG\"], level: \"subFeature\" },\r\n                    { label: t('homepage.sales.Create'), to: '/purchasing/product/create', authRoles:['ADMIN', 'PO_MNG'], level: 'subFeature'}\r\n                  ]\r\n                },\r\n                { label: t('homepage.purchasing.Inventory'), icon: 'fas fa-archive', to: '/purchasing/inventory',authRoles:['ADMIN', 'PUR_MNG'], level: 'feature'},\r\n                { label: t('homepage.purchasing.Supplier'), icon: 'fas fa-address-book', authRoles:['ADMIN', 'PUR_MNG'], level: 'feature', \r\n                  items: [\r\n                    { label: t('homepage.sales.List'), to: \"/purchasing/supplier/list\", authRoles: [\"ADMIN\", \"PO_MNG\"], level: \"subFeature\" },\r\n                    { label: 'gia san pham', to: \"/purchasing/supplier/productp\", authRoles: [\"ADMIN\", \"PO_MNG\"], level: \"subFeature\" }\r\n                  ]\r\n              },\r\n                { label: t('homepage.purchasing.Setting'), icon: 'fas fa-tools', to: '/purchasing/setting', authRoles:['ADMIN', 'PUR_MNG'], level: 'feature'}\r\n            ]\r\n        },\r\n        {\r\n            name: 'POS',\r\n            label: 'POS', to: '/pos', authRoles:['ADMIN', 'CAISSIER'],\r\n            level: 'module',\r\n            items: []\r\n        },\r\n    ];\r\n\r\n    const [userProfile, setUserProfile] = useState({info:{}, roles:[]});\r\n\r\n    useEffect(()=>{\r\n        ServiceHandle.get(Const.API.GetUserProfile,{},{headers:{\"x-csrf-token\":getTokenCookie()}})\r\n\t\t\t.then(res => {\r\n                if (res.data.userGroupList.length > 0){\r\n                    setUserProfile({info:res.data.userInfo, roles:res.data.userGroupList.map((userGroup)=>{return userGroup.userGroupId})});\r\n                    let newMenu = menu.filter((item) => {\r\n                        let roles = res.data.userGroupList.map((userGroup)=>{return userGroup.userGroupId})\r\n                        let flag = false;\r\n                        roles.forEach(role => {\r\n                            if (item.authRoles.includes(role)) {\r\n                                flag = true;\r\n                                return true;\r\n                            }\r\n                        });\r\n                        return flag;\r\n                    });\r\n\r\n                    let moduleIndex = newMenu.findIndex(module => module.name === res.data.userInfo.lastModuleAccess);\r\n\r\n                    if (moduleIndex === -1){\r\n                        setActiveModuleIndex(0);\r\n                    }else{\r\n                        setActiveModuleIndex(moduleIndex);\r\n                    }\r\n                }else{\r\n                    history.push(\"/unauthorized\")\r\n                }\r\n\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n                history.push(\"/login\");\r\n\t\t\t})\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[]);\r\n\r\n    useEffect(()=>{\r\n        for (let i = 0; i < menu.length; i++) {\r\n          const subMenu = menu[i].items;\r\n          for (let l = 0; l < subMenu.length; l++) {\r\n           if(subMenu[l].to){\r\n               if (subMenu[l].to === history.location.pathname) {\r\n               setActiveModuleFeatureIndex(l);\r\n              \r\n             } \r\n           }else{\r\n            const sub2Menu = subMenu[l].items;\r\n            for (let k = 0; k < sub2Menu.length; k++) {\r\n              if (sub2Menu[k].to === history.location.pathname) {\r\n                setActiveModuleFeatureIndex(l);\r\n                setActiveSubModuleFeatureIndex(k);\r\n              }\r\n            }\r\n           }\r\n          }\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        \r\n        if (userProfile.roles.length===0 || typeof(activeModuleIndex) == 'undefined'){\r\n            return;\r\n        }\r\n\r\n        ServiceHandle.post(Const.API.UpdateLastModuleAccess,{moduleName:menu[activeModuleIndex].name})\r\n        .then(res => {\r\n            //do nothing\r\n        })\r\n        .catch(err => {\r\n            toast.current.show({ severity: 'error', summary: 'Error Message', detail: err.response.data.errors, life: 5000 });\r\n            history.push(\"/login\");\r\n        })\r\n\r\n        if (menuModel.authorizedMenuModel !== undefined){\r\n            if (menuModel.authorizedMenuModel[activeModuleIndex].items.length > 0){\r\n                if(menuModel.authorizedMenuModel[activeModuleIndex].items[activeModuleFeatureIndex].items){\r\n                    history.push(menuModel.authorizedMenuModel[activeModuleIndex].items[activeModuleFeatureIndex].items[activeSubModuleFeatureIndex].to);\r\n                }else{\r\n                    history.push(menuModel.authorizedMenuModel[activeModuleIndex].items[activeModuleFeatureIndex].to);\r\n                }\r\n            }else{\r\n                history.push(menuModel.authorizedMenuModel[activeModuleIndex].to);\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[activeModuleIndex, activeModuleFeatureIndex, activeSubModuleFeatureIndex]);\r\n\r\n    useEffect(() => {\r\n        setMenuModel(getAuthorizedMenuModel());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [userProfile]);\r\n\r\n    const getAuthorizedMenuModel= ()=>{\r\n        if (userProfile.roles.length > 0){\r\n            const moduleReducer = (accumulator, module) => {\r\n                if (module.authRoles.some((role)=>{return userProfile.roles.includes(role)})){\r\n                    accumulator.push({label:module.label, to:module.to, level:module.level});\r\n\r\n                }\r\n                return accumulator;\r\n            }\r\n\r\n            const menuModelReducer = (accumulator, module) => {\r\n                if (module.authRoles.some((role)=>{return userProfile.roles.includes(role)})){\r\n                    accumulator.push({label:module.label, to:module.to, items:module.items, level:module.level});\r\n\r\n                }\r\n                return accumulator;\r\n            }\r\n\r\n            const authorizedModules = menu.reduce(moduleReducer,[]);\r\n            const authorizedMenuModelTemp = menu.reduce(menuModelReducer, []);\r\n\r\n            const authorizedMenuModel = authorizedMenuModelTemp.map((module)=>{\r\n                let moduleItem = {label:module.label, to:module.to, level:module.level};\r\n                moduleItem.items = [...module.items.filter(item => item.authRoles.some((role)=>{return userProfile.roles.includes(role)}))];\r\n\r\n                moduleItem.items.forEach(\r\n                    (item) =>{\r\n                        if (typeof(item.items) != 'undefined' && item.items != null){\r\n                            item.items=[...item.items.filter(subItem => subItem.authRoles.some((role)=>{return userProfile.roles.includes(role)}))];\r\n                        }\r\n                    }\r\n                )\r\n\r\n                return moduleItem;\r\n            })\r\n\r\n            return {authorizedModules:authorizedModules, authorizedMenuModel:authorizedMenuModel};\r\n        }\r\n        else return {authorizedModules:[], authorizedMenuModel:[]};\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        onColorModeChange(colorMode)\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const onMenuThemeChange = (theme) => {\r\n        setMenuTheme(theme)\r\n    }\r\n\r\n    const onTopbarThemeChange = (theme) => {\r\n        setTopbarTheme(theme);\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        const appLogoLink = document.getElementById('app-logo');\r\n        if(typeof(appLogoLink) != 'undefined' && appLogoLink != null){\r\n            if (topbarTheme === 'white' || topbarTheme === 'yellow' || topbarTheme === 'amber' || topbarTheme === 'orange' || topbarTheme === 'lime') {\r\n                appLogoLink.src = 'assets/layout/images/logo-dark.svg';\r\n            }\r\n            else {\r\n                appLogoLink.src = 'assets/layout/images/logo-light.svg';\r\n            }\r\n        }\r\n    },[topbarTheme])\r\n\r\n    const onThemeChange = (theme) => {\r\n        setTheme(theme);\r\n        const themeLink = document.getElementById('theme-css');\r\n        const themeHref = 'assets/theme/' + theme + '/theme-' + colorMode + '.css';\r\n        replaceLink(themeLink, themeHref);\r\n    }\r\n\r\n    const onColorModeChange = (mode) => {\r\n        setColorMode(mode);\r\n\r\n\r\n        if (mode === 'dark') {\r\n            setMenuTheme('dark');\r\n            setTopbarTheme('dark');\r\n        } else {\r\n            setMenuTheme('light');\r\n            setTopbarTheme('blue');\r\n\r\n        }\r\n\r\n        const layoutLink = document.getElementById('layout-css');\r\n        // disappear css\r\n        const layoutHref = 'assets/layout/css/layout-' + mode + '.css';\r\n        replaceLink(layoutLink, layoutHref);\r\n\r\n        const themeLink = document.getElementById('theme-css');\r\n        const urlTokens = themeLink.getAttribute('href').split('/');\r\n        urlTokens[urlTokens.length - 1] = 'theme-' + mode + '.css';\r\n        const newURL = urlTokens.join('/');\r\n\r\n        replaceLink(themeLink, newURL, () => {});\r\n\r\n    }\r\n\r\n    const replaceLink = (linkElement, href, callback) => {\r\n        if (isIE()) {\r\n            linkElement.setAttribute('href', href);\r\n\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        }\r\n        else {\r\n            const id = linkElement.getAttribute('id');\r\n            const cloneLinkElement = linkElement.cloneNode(true);\r\n\r\n            cloneLinkElement.setAttribute('href', href);\r\n            cloneLinkElement.setAttribute('id', id + '-clone');\r\n\r\n            linkElement.parentNode.insertBefore(cloneLinkElement, linkElement.nextSibling);\r\n\r\n            cloneLinkElement.addEventListener('load', () => {\r\n                linkElement.remove();\r\n                cloneLinkElement.setAttribute('id', id);\r\n\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const onInputStyleChange = (inputStyle) => {\r\n        setInputStyle(inputStyle);\r\n    }\r\n\r\n    const onMenuClick = (event) => {\r\n        menuClick = true;\r\n    }\r\n\r\n    const onMenuButtonClick = (event) => {\r\n        menuClick = true;\r\n\r\n        if (isDesktop())\r\n            setDesktopMenuActive((prevState) => !prevState);\r\n        else\r\n            setMobileMenuActive((prevState) => !prevState)\r\n\r\n        event.preventDefault();\r\n\r\n    }\r\n\r\n    const onTopbarItemClick = (event) => {\r\n        topbarItemClick = true;\r\n        if (activeTopbarItem === event.item)\r\n            setActiveTopbarItem(null)\r\n        else {\r\n            setActiveTopbarItem(event.item)\r\n        }\r\n\r\n        event.originalEvent.preventDefault();\r\n    }\r\n\r\n\r\n    const onMobileTopbarButtonClick = (event) => {\r\n        setMobileTopbarActive((prevState) => !prevState);\r\n        event.preventDefault();\r\n    }\r\n\r\n    const onDocumentClick = (event) => {\r\n\r\n        if (!topbarItemClick) {\r\n            setActiveTopbarItem(null);\r\n        }\r\n\r\n        if (!menuClick && (menuMode === 'overlay' || !isDesktop())) {\r\n            if (isHorizontal() || isSlim()) {\r\n                setMenuActive(false)\r\n            }\r\n            hideOverlayMenu();\r\n        }\r\n\r\n\r\n        if (!menuClick && (isSlim() || isHorizontal())) {\r\n            setMenuActive(false);\r\n        }\r\n\r\n        topbarItemClick = false;\r\n        menuClick = false;\r\n    }\r\n\r\n    const hideOverlayMenu = () => {\r\n        setMobileMenuActive(false)\r\n        setDesktopMenuActive(false)\r\n    }\r\n\r\n    const isDesktop = () => {\r\n        return window.innerWidth > 1024;\r\n    }\r\n\r\n    const isHorizontal = () => {\r\n        return menuMode === 'horizontal';\r\n    }\r\n\r\n    const isSlim = () => {\r\n        return menuMode === 'slim';\r\n    }\r\n\r\n    const isIE = () => {\r\n        return /(MSIE|Trident\\/|Edge\\/)/i.test(window.navigator.userAgent)\r\n    }\r\n\r\n    let isNotPosAndDeskTopMenuActive = desktopMenuActive;\r\n    if (activeModuleIndex !== undefined && menuModel.authorizedMenuModel !== undefined){\r\n        isNotPosAndDeskTopMenuActive = menuModel.authorizedMenuModel[activeModuleIndex].label === 'POS'?false:desktopMenuActive;\r\n    }\r\n\r\n\r\n    const layoutContainerClassName = classNames('layout-wrapper ', 'layout-menu-' + menuTheme + ' layout-topbar-' + topbarTheme, {\r\n        'layout-menu-static': menuMode === 'static',\r\n        'layout-menu-overlay': menuMode === 'overlay',\r\n        'layout-menu-slim': menuMode === 'slim',\r\n        'layout-menu-horizontal': menuMode === 'horizontal',\r\n        'layout-menu-active': isNotPosAndDeskTopMenuActive,\r\n        'layout-menu-mobile-active': mobileMenuActive,\r\n        'layout-topbar-mobile-active': mobileTopbarActive,\r\n        'layout-rightmenu-active': false,\r\n        'p-input-filled': inputStyle === 'filled',\r\n        'p-ripple-disabled': false,\r\n    });\r\n\r\n    if (userProfile.roles.length ===0 || typeof(activeModuleIndex)=='undefined'){\r\n        return(<div/>);\r\n    }\r\n\r\n    return (\r\n\r\n        <UserProfileContext.Provider value={userProfile}><ToastContext.Provider value={toast}>\r\n            <div className={layoutContainerClassName} onClick={onDocumentClick}>\r\n                <AppTopbar horizontal={isHorizontal()}\r\n                    activeTopbarItem={activeTopbarItem}\r\n                    onMenuButtonClick={onMenuButtonClick}\r\n                    onTopbarItemClick={onTopbarItemClick}\r\n                    onMobileTopbarButtonClick={onMobileTopbarButtonClick}\r\n                    mobileTopbarActive={mobileTopbarActive}\r\n                    moduleItems={menuModel.authorizedModules}\r\n                    activeModuleIndex={activeModuleIndex}\r\n                    activeModuleFeatureIndex={activeModuleFeatureIndex}\r\n                    activeSubModuleFeatureIndex={activeSubModuleFeatureIndex}\r\n                    setActiveModuleIndex={setActiveModuleIndex}\r\n                    setActiveModuleFeatureIndex={setActiveModuleFeatureIndex}\r\n                    setActiveSubModuleFeatureIndex={setActiveSubModuleFeatureIndex}\r\n                    menuModel={menuModel.authorizedMenuModel}/>\r\n\r\n                <div className=\"menu-wrapper\" onClick={onMenuClick}>\r\n                    <div className=\"layout-menu-container\">\r\n                    {menuModel.authorizedMenuModel.length && menuModel.authorizedMenuModel[activeModuleIndex].label !== 'POS' &&\r\n                    <AppMenu model={[menuModel.authorizedMenuModel[activeModuleIndex]]}\r\n                            menuMode={menuMode}\r\n                            active={menuActive}\r\n                            activeModuleIndex={activeModuleIndex}\r\n                            activeModuleFeatureIndex={activeModuleFeatureIndex}\r\n                            activeSubModuleFeatureIndex={activeSubModuleFeatureIndex}\r\n                            setActiveModuleIndex={setActiveModuleIndex}\r\n                            setActiveModuleFeatureIndex={setActiveModuleFeatureIndex}\r\n                            setActiveSubModuleFeatureIndex={setActiveSubModuleFeatureIndex}\r\n                    />}\r\n                        {/*<h1>{t('Welcome to React')}</h1>*/}\r\n                    </div>\r\n                </div>\r\n\r\n                <Toast ref={toast} />\r\n\r\n                <div className=\"layout-main\">\r\n                    <div className=\"layout-content\">\r\n                   <SecureRoute/>\r\n                    </div>\r\n                </div>\r\n\r\n                <AppConfig inputStyle={inputStyle} onInputStyleChange={onInputStyleChange}\r\n                    menuMode={menuMode}\r\n                    colorMode={colorMode} onColorModeChange={onColorModeChange}\r\n                    menuTheme={menuTheme} onMenuThemeChange={onMenuThemeChange}\r\n                    topbarTheme={topbarTheme} onTopbarThemeChange={onTopbarThemeChange}\r\n                    theme={theme} onThemeChange={onThemeChange}/>\r\n\r\n\r\n                {mobileMenuActive && <div className=\"layout-mask modal-in\"></div>}\r\n            </div>\r\n        </ToastContext.Provider></UserProfileContext.Provider>\r\n\r\n    );\r\n\r\n}\r\nexport default App;\r\n\r\n"]},"metadata":{},"sourceType":"module"}