{"ast":null,"code":"import _objectSpread from \"D:/eway/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\eway\\\\src\\\\components\\\\accounting\\\\InvoicesReceivable.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { InvoiceReceivableService } from \"../../service/accounting/InvoiceReceivableService\";\nimport Moment from \"react-moment\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport { Calendar } from 'primereact/calendar';\nimport { Button } from \"primereact/button\";\nimport { MultiSelect } from \"primereact/multiselect\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var InvoicesReceivable = function InvoicesReceivable() {\n  _s();\n\n  var _useTranslation = useTranslation('common'),\n      t = _useTranslation.t;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      invoices = _useState2[0],\n      setInvoices = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1]; // const [parties, setParties] = useState(null);\n\n\n  var dt = useRef(null);\n  var history = useHistory();\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedDate = _useState6[0],\n      setSelectedDate = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedItem = _useState8[0],\n      setSelectedItem = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedInvoiceTypeEnumId = _useState10[0],\n      setSelectedInvoiceTypeEnumId = _useState10[1];\n\n  var invoiceTypeEnumIds = [{\n    name: \"InvoiceSales\",\n    desc: 'Hóa đơn bán hàng'\n  }, {\n    name: \"InvoiceReturn\",\n    desc: 'Hóa đơn trả lại'\n  }, {\n    name: \"InvoicePayroll\",\n    desc: 'Hóa đơn Tiền lương'\n  }, {\n    name: \"InvoicePayrollOther\",\n    desc: 'Các khoản lương khác'\n  }, {\n    name: \"InvoiceTax\",\n    desc: 'Hóa đơn thuế'\n  }, {\n    name: \"InvoiceGarnishment\",\n    desc: 'Hóa đơn phạt'\n  }, {\n    name: \"InvoiceCommission\",\n    desc: 'Hóa đơn hoa hồng'\n  }, {\n    name: \"InvoiceCreditMemo\",\n    desc: 'Thư Nhận nợ'\n  }, {\n    name: \"InvoiceTemplate\",\n    desc: 'Mẫu hóa đơn'\n  }];\n\n  var onInvoiceTypeEnumIdChange = function onInvoiceTypeEnumIdChange(e) {\n    dt.current.filter(e.value, 'representative.name', 'in');\n    setSelectedInvoiceTypeEnumId(e.value);\n  };\n\n  var invoiceTypeEnumIdItemTemplate = function invoiceTypeEnumIdItemTemplate(option) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-multiselect-representative-option\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"image-text\",\n        children: option.desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var _useState11 = useState({\n    first: 0,\n    rows: 10,\n    page: 0,\n    sortField: \"invoiceId\",\n    sortOrder: -1\n  }),\n      _useState12 = _slicedToArray(_useState11, 2),\n      lazyParams = _useState12[0],\n      setLazyParams = _useState12[1];\n\n  var loadLazyTimeout = null;\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      totalRecords = _useState14[0],\n      setTotalRecords = _useState14[1]; // const enumService = new EnumService();\n\n\n  var openNew = function openNew() {\n    history.push(\"/accounting/receivable/newARinvoice\");\n  };\n\n  var loadLazyData = function loadLazyData() {\n    setLoading(true);\n\n    if (loadLazyTimeout) {\n      clearTimeout(loadLazyTimeout);\n    }\n\n    loadLazyTimeout = setTimeout(function () {\n      var invoiceReceivableService = new InvoiceReceivableService(); // const enumService = new EnumService();\n\n      invoiceReceivableService.getExtInvoices(transformRequest()).then(function (data) {\n        setTotalRecords(data.totalRecords);\n        setInvoices(data.invoices);\n        setLoading(false);\n      }); // invoiceReceivableService.getListPartyId().then(data => {\n      //     setParties(data.partyIdList);\n      // });\n\n      setLoading(false);\n    }, Math.random() * 1000 + 250);\n  };\n\n  useEffect(function () {\n    loadLazyData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lazyParams]);\n\n  var onSort = function onSort(event) {\n    var _lazyParams = _objectSpread(_objectSpread({}, lazyParams), event);\n\n    setLazyParams(_lazyParams);\n  };\n\n  var transformRequest = function transformRequest() {\n    var params = {\n      pageIndex: lazyParams.page,\n      pageSize: lazyParams.rows,\n      \"orderByField\": \"invoiceId\"\n    };\n\n    if (lazyParams.filters) {\n      for (var _i = 0, _Object$entries = Object.entries(lazyParams.filters); _i < _Object$entries.length; _i++) {\n        var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n            key = _Object$entries$_i[0],\n            value = _Object$entries$_i[1];\n\n        params[key] = value.value;\n      }\n    }\n\n    return params;\n  };\n\n  var onPage = function onPage(event) {\n    var _lazyParams = _objectSpread(_objectSpread({}, lazyParams), event);\n\n    setLazyParams(_lazyParams);\n  };\n\n  var bodyTemplate = function bodyTemplate(data, props) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: data[props.field]\n    }, void 0, false);\n  };\n\n  function currencyFormat(num) {\n    return num.toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.');\n  }\n\n  var moneyTemplate = function moneyTemplate(data, props) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"money\",\n        children: currencyFormat(data[props.field])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false);\n  };\n\n  var linkTemplate = function linkTemplate(data, props) {\n    var url = \"/#/editInvoice/\" + data[props.field];\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: url,\n        children: data[props.field]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false);\n  };\n\n  var onDateChange = function onDateChange(e) {\n    dt.current.filter(e.value, 'createdDate', 'custom');\n    setSelectedDate(e.value);\n  };\n\n  var dateFilter = /*#__PURE__*/_jsxDEV(Calendar, {\n    value: selectedDate,\n    onChange: onDateChange,\n    dateFormat: \"dd/mm/yy\",\n    className: \"p-column-filter\",\n    placeholder: \"Ng\\xE0y t\\u1EA1o\",\n    showClear: true,\n    filter: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 24\n  }, _this);\n\n  var onFilter = function onFilter(event) {\n    var _lazyParams = _objectSpread(_objectSpread({}, lazyParams), event);\n\n    _lazyParams['first'] = 0;\n    setLazyParams(_lazyParams);\n  };\n\n  var filterDate = function filterDate(value, filter) {\n    if (filter.toISOString() === value) {\n      return true;\n    }\n\n    if (value === undefined || value === null) {\n      return false;\n    }\n  };\n\n  var invoiceTypeEnumIdFilter = /*#__PURE__*/_jsxDEV(MultiSelect, {\n    value: selectedInvoiceTypeEnumId,\n    options: invoiceTypeEnumIds,\n    itemTemplate: invoiceTypeEnumIdItemTemplate,\n    onChange: onInvoiceTypeEnumIdChange,\n    optionLabel: \"name\",\n    optionValue: \"invoiceTypeEnumId\",\n    placeholder: \"\",\n    className: \"p-column-filter\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 37\n  }, _this);\n\n  var timeTemplate = function timeTemplate(data, props) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Moment, {\n        format: \"DD/MM/YYYY\",\n        children: data[props.field] ? data[props.field] : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-col-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-9 p-md-9\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: t('acc.invReceivable.dataGridHeader')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-3 p-md-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                label: t('acc.invReceivable.addNew'),\n                icon: \"pi pi-plus\",\n                className: \"p-button-outlined\",\n                onClick: openNew\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 33\n              }, _this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n                label: t('acc.invReceivable.btnDelete'),\n                icon: \"pi pi-trash\",\n                className: \"p-button-outlined\",\n                onClick: null,\n                disabled: !selectedItem || !selectedItem.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 33\n              }, _this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                label: t(\"common:clear\"),\n                className: \"p-button-outlined\",\n                icon: \"pi pi-filter-slash\",\n                onClick: null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(DataTable, {\n          ref: dt,\n          value: invoices,\n          paginator: true,\n          className: \"p-datatable-customers\",\n          dataKey: \"invoiceId\",\n          emptyMessage: t('acc.invReceivable.NoReceivableInvoiceFound'),\n          loading: loading,\n          selectionMode: \"single\",\n          onSelectionChange: function onSelectionChange(e) {\n            return setSelectedItem(e.value);\n          },\n          filters: true,\n          onFilter: onFilter,\n          first: lazyParams.first,\n          rows: lazyParams.rows,\n          totalRecords: totalRecords,\n          onPage: onPage,\n          rowsPerPageOptions: [10, 25, 50, 100],\n          paginatorTemplate: \"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\",\n          currentPageReportTemplate: \"Hi\\u1EC3n th\\u1ECB {first} - {last} trong t\\u1ED5ng s\\u1ED1 {totalRecords} b\\u1EA3n ghi\",\n          lazy: true,\n          onSort: onSort,\n          sortField: lazyParams.sortField,\n          sortOrder: lazyParams.sortOrder,\n          resizableColumns: true,\n          columnResizeMode: \"fit\",\n          reorderableColumns: true,\n          showGridlines: true,\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            field: \"invoiceId\",\n            header: t('acc.invReceivable.invoiceId'),\n            sortable: true,\n            body: linkTemplate,\n            filter: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"invoiceTypeEnumId\",\n            header: t('acc.invReceivable.invoiceTypeEnumId'),\n            sortable: true,\n            body: bodyTemplate,\n            filter: true,\n            filterElement: invoiceTypeEnumIdFilter\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"toPartyId\",\n            header: t('acc.invReceivable.toPartyId'),\n            sortable: true,\n            body: bodyTemplate,\n            filter: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"statusId\",\n            header: t('acc.invReceivable.statusId'),\n            sortable: true,\n            body: bodyTemplate,\n            filter: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"invoiceDate\",\n            header: t('acc.invReceivable.invoiceDate'),\n            sortable: true,\n            body: timeTemplate,\n            filter: true,\n            filterElement: dateFilter,\n            filterFunction: filterDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"description\",\n            header: t('acc.invReceivable.description'),\n            sortable: true,\n            body: bodyTemplate,\n            filter: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"currencyUomId\",\n            header: t('acc.invReceivable.currencyUomId'),\n            sortable: true,\n            body: bodyTemplate,\n            filter: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"invoiceTotal\",\n            header: t('acc.invReceivable.invoiceTotal'),\n            sortable: true,\n            body: bodyTemplate,\n            filter: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"appliedPaymentsTotal\",\n            header: t('acc.invReceivable.appliedPaymentsTotal'),\n            sortable: true,\n            body: bodyTemplate,\n            filter: true,\n            filterMatchMode: \"contains\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"unpaidTotal\",\n            header: t('acc.invReceivable.unpaidTotal'),\n            sortable: true,\n            body: moneyTemplate,\n            filter: true,\n            filterMatchMode: \"contains\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(InvoicesReceivable, \"l0QS7LaMAUelx55lZRkKGxqcyKw=\", false, function () {\n  return [useTranslation, useHistory];\n});\n\n_c = InvoicesReceivable;\n\nvar _c;\n\n$RefreshReg$(_c, \"InvoicesReceivable\");","map":{"version":3,"sources":["D:/eway/src/components/accounting/InvoicesReceivable.js"],"names":["React","useState","useEffect","useRef","DataTable","Column","InvoiceReceivableService","Moment","useTranslation","useHistory","Calendar","Button","MultiSelect","InvoicesReceivable","t","invoices","setInvoices","loading","setLoading","dt","history","selectedDate","setSelectedDate","selectedItem","setSelectedItem","selectedInvoiceTypeEnumId","setSelectedInvoiceTypeEnumId","invoiceTypeEnumIds","name","desc","onInvoiceTypeEnumIdChange","e","current","filter","value","invoiceTypeEnumIdItemTemplate","option","first","rows","page","sortField","sortOrder","lazyParams","setLazyParams","loadLazyTimeout","totalRecords","setTotalRecords","openNew","push","loadLazyData","clearTimeout","setTimeout","invoiceReceivableService","getExtInvoices","transformRequest","then","data","Math","random","onSort","event","_lazyParams","params","pageIndex","pageSize","filters","Object","entries","key","onPage","bodyTemplate","props","field","currencyFormat","num","toFixed","replace","moneyTemplate","linkTemplate","url","onDateChange","dateFilter","onFilter","filterDate","toISOString","undefined","invoiceTypeEnumIdFilter","timeTemplate","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport {InvoiceReceivableService} from \"../../service/accounting/InvoiceReceivableService\";\r\nimport Moment from \"react-moment\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { Calendar } from 'primereact/calendar';\r\nimport {Button} from \"primereact/button\";\r\nimport {MultiSelect} from \"primereact/multiselect\";\r\n\r\nexport const InvoicesReceivable = () => {\r\n    const {t} = useTranslation('common');\r\n    const [invoices, setInvoices] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    // const [parties, setParties] = useState(null);\r\n    const dt = useRef(null);\r\n    const history = useHistory();\r\n    const [selectedDate, setSelectedDate] = useState(null);\r\n    const [selectedItem, setSelectedItem] = useState(null);\r\n    const [selectedInvoiceTypeEnumId, setSelectedInvoiceTypeEnumId] = useState(null);\r\n\r\n    const invoiceTypeEnumIds = [\r\n        {name: \"InvoiceSales\", desc: 'Hóa đơn bán hàng'},\r\n        {name: \"InvoiceReturn\", desc: 'Hóa đơn trả lại'},\r\n        {name: \"InvoicePayroll\", desc: 'Hóa đơn Tiền lương'},\r\n        {name: \"InvoicePayrollOther\", desc: 'Các khoản lương khác'},\r\n        {name: \"InvoiceTax\", desc: 'Hóa đơn thuế'},\r\n        {name: \"InvoiceGarnishment\", desc: 'Hóa đơn phạt'},\r\n        {name: \"InvoiceCommission\", desc: 'Hóa đơn hoa hồng'},\r\n        {name: \"InvoiceCreditMemo\", desc: 'Thư Nhận nợ'},\r\n        {name: \"InvoiceTemplate\", desc: 'Mẫu hóa đơn'}\r\n    ];\r\n\r\n    const onInvoiceTypeEnumIdChange = (e) => {\r\n        dt.current.filter(e.value, 'representative.name', 'in');\r\n        setSelectedInvoiceTypeEnumId(e.value);\r\n    }\r\n\r\n    const invoiceTypeEnumIdItemTemplate = (option) => {\r\n        return (\r\n            <div className=\"p-multiselect-representative-option\">\r\n                <span className=\"image-text\">{option.desc}</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const [lazyParams, setLazyParams] = useState({\r\n        first: 0,\r\n        rows: 10,\r\n        page: 0,\r\n        sortField: \"invoiceId\",\r\n        sortOrder: -1\r\n    });\r\n    let loadLazyTimeout = null;\r\n    const [totalRecords, setTotalRecords] = useState(0);\r\n    // const enumService = new EnumService();\r\n\r\n    const openNew = () => {\r\n      history.push(\"/accounting/receivable/newARinvoice\");\r\n    };\r\n\r\n    const loadLazyData = () => {\r\n        setLoading(true);\r\n        if (loadLazyTimeout) {\r\n            clearTimeout(loadLazyTimeout);\r\n        }\r\n        loadLazyTimeout = setTimeout(() => {\r\n            const invoiceReceivableService = new InvoiceReceivableService();\r\n            // const enumService = new EnumService();\r\n            invoiceReceivableService.getExtInvoices(transformRequest()).then(data => {\r\n                setTotalRecords(data.totalRecords);\r\n                setInvoices(data.invoices);\r\n                setLoading(false);\r\n            });\r\n            // invoiceReceivableService.getListPartyId().then(data => {\r\n            //     setParties(data.partyIdList);\r\n            // });\r\n            setLoading(false);\r\n        }, Math.random() * 1000 + 250);\r\n    }\r\n    useEffect(() => {\r\n        loadLazyData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [lazyParams]);\r\n\r\n    const onSort = (event) => {\r\n        let _lazyParams = { ...lazyParams, ...event };\r\n        setLazyParams(_lazyParams);\r\n    }\r\n\r\n    const transformRequest = () => {\r\n        let params = {\r\n            pageIndex: lazyParams.page,\r\n            pageSize: lazyParams.rows,\r\n            \"orderByField\": \"invoiceId\"\r\n        }\r\n        if(lazyParams.filters){\r\n            for (let [key, value] of Object.entries(lazyParams.filters)) {\r\n                params[key] = value.value;\r\n            }\r\n        }\r\n        return params;\r\n    }\r\n\r\n    const onPage = (event) => {\r\n        let _lazyParams = { ...lazyParams, ...event };\r\n        setLazyParams(_lazyParams);\r\n    }\r\n\r\n    const bodyTemplate = (data, props) => {\r\n        return (\r\n            <>\r\n                {data[props.field]}\r\n            </>\r\n        );\r\n    };\r\n\r\n    function currencyFormat(num) {\r\n        return num.toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.')\r\n    }\r\n\r\n    const moneyTemplate = (data, props) => {\r\n        return (\r\n            <>\r\n                <span className=\"money\">{currencyFormat(data[props.field])}</span>\r\n            </>\r\n        );\r\n    };\r\n\r\n    const linkTemplate = (data, props) => {\r\n        let url = \"/#/editInvoice/\" + data[props.field];\r\n        return (\r\n            <>\r\n                <a href={url}>{data[props.field]}</a>\r\n            </>\r\n        );\r\n    };\r\n\r\n    const onDateChange = (e) => {\r\n        dt.current.filter(e.value, 'createdDate', 'custom');\r\n        setSelectedDate(e.value);\r\n    }\r\n\r\n    const dateFilter = <Calendar value={selectedDate} onChange={onDateChange} dateFormat=\"dd/mm/yy\" className=\"p-column-filter\" placeholder=\"Ngày tạo\" showClear filter/>;\r\n\r\n    const onFilter = (event) => {\r\n        let _lazyParams = { ...lazyParams, ...event };\r\n        _lazyParams['first'] = 0;\r\n        setLazyParams(_lazyParams);\r\n    }\r\n\r\n    const filterDate = (value, filter) => {\r\n        if (filter.toISOString() === value) {\r\n            return true;\r\n        }\r\n        if (value === undefined || value === null) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    const invoiceTypeEnumIdFilter = <MultiSelect value={selectedInvoiceTypeEnumId} options={invoiceTypeEnumIds} itemTemplate={invoiceTypeEnumIdItemTemplate} onChange={onInvoiceTypeEnumIdChange} optionLabel=\"name\" optionValue=\"invoiceTypeEnumId\" placeholder=\"\" className=\"p-column-filter\" />;\r\n\r\n    const timeTemplate = (data, props) => {\r\n        return (\r\n            <>\r\n                <Moment format=\"DD/MM/YYYY\">{data[props.field] ? data[props.field] : \"\"}</Moment>\r\n            </>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"p-col-12\">\r\n                <div className=\"card\">\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col-9 p-md-9\">\r\n                            <h3>{t('acc.invReceivable.dataGridHeader')}</h3>\r\n                        </div>\r\n                        <div className=\"p-col-3 p-md-3\">\r\n                            <div className=\"p-grid\">\r\n                                <Button label={t('acc.invReceivable.addNew')} icon=\"pi pi-plus\" className=\"p-button-outlined\" onClick={openNew} />&nbsp;&nbsp;\r\n                                <Button label={t('acc.invReceivable.btnDelete')} icon=\"pi pi-trash\" className=\"p-button-outlined\" onClick={null} disabled={!selectedItem || !selectedItem.length}/>&nbsp;&nbsp;\r\n                                <Button type=\"button\" label={t(\"common:clear\")} className=\"p-button-outlined\" icon=\"pi pi-filter-slash\" onClick={null} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DataTable ref={dt} value={invoices} paginator className=\"p-datatable-customers\"\r\n                               dataKey=\"invoiceId\" emptyMessage={t('acc.invReceivable.NoReceivableInvoiceFound')}\r\n                               loading={loading} selectionMode=\"single\" onSelectionChange={(e) => setSelectedItem(e.value)}\r\n                               filters onFilter={onFilter} first={lazyParams.first} rows={lazyParams.rows}\r\n                               totalRecords={totalRecords} onPage={onPage} rowsPerPageOptions={[10, 25, 50, 100]}\r\n                               paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\r\n                               currentPageReportTemplate=\"Hiển thị {first} - {last} trong tổng số {totalRecords} bản ghi\" lazy\r\n                               onSort={onSort} sortField={lazyParams.sortField} sortOrder={lazyParams.sortOrder}\r\n                               resizableColumns columnResizeMode=\"fit\" reorderableColumns showGridlines>\r\n                        <Column field=\"invoiceId\" header={t('acc.invReceivable.invoiceId')} sortable body={linkTemplate} filter/>\r\n                        <Column field=\"invoiceTypeEnumId\" header={t('acc.invReceivable.invoiceTypeEnumId')} sortable body={bodyTemplate} filter filterElement={invoiceTypeEnumIdFilter}/>\r\n                        <Column field=\"toPartyId\" header={t('acc.invReceivable.toPartyId')} sortable body={bodyTemplate} filter/>\r\n                        <Column field=\"statusId\" header={t('acc.invReceivable.statusId')} sortable body={bodyTemplate} filter/>\r\n                        <Column field=\"invoiceDate\" header={t('acc.invReceivable.invoiceDate')} sortable body={timeTemplate} filter filterElement={dateFilter} filterFunction={filterDate}/>\r\n                        <Column field=\"description\" header={t('acc.invReceivable.description')} sortable body={bodyTemplate} filter/>\r\n                        <Column field=\"currencyUomId\" header={t('acc.invReceivable.currencyUomId')} sortable body={bodyTemplate} filter/>\r\n                        <Column field=\"invoiceTotal\" header={t('acc.invReceivable.invoiceTotal')} sortable body={bodyTemplate} filter/>\r\n                        <Column field=\"appliedPaymentsTotal\" header={t('acc.invReceivable.appliedPaymentsTotal')} sortable body={bodyTemplate} filter filterMatchMode=\"contains\"/>\r\n                        <Column field=\"unpaidTotal\" header={t('acc.invReceivable.unpaidTotal')} sortable body={moneyTemplate} filter filterMatchMode=\"contains\"/>\r\n                    </DataTable>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}