{"ast":null,"code":"import _slicedToArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\eway\\\\src\\\\pages\\\\OrderDetail.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from 'react-router-dom';\nimport Moment from \"react-moment\";\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Button } from 'primereact/button';\nimport { OrderService } from '../service/OrderService';\nimport { ToastContext } from \"../App\";\nimport { UserProfileContext } from '../App';\nimport { cloneDeep } from 'lodash-es';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var OrderDetail = function OrderDetail() {\n  _s();\n\n  var _orderDetail$productS, _orderDetail$productS2, _orderDetail$vendor, _orderDetail$vendor2, _orderDetail$facility, _orderDetail$facility2;\n\n  var toast = useContext(ToastContext);\n  var userProfile = useContext(UserProfileContext);\n  var history = useHistory();\n  var orderService = new OrderService();\n\n  var _useTranslation = useTranslation(),\n      _useTranslation2 = _slicedToArray(_useTranslation, 1),\n      t = _useTranslation2[0];\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      orderDetail = _useState2[0],\n      setOrderDetail = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      orderItems = _useState4[0],\n      setOrderItems = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      fullName = _useState6[0],\n      setFullName = _useState6[1];\n\n  useEffect(function () {\n    var param = {\n      orderId: id\n    };\n    orderService.getOrderDetail(param).then(function (data) {\n      setOrderDetail(data.orderDetail);\n      setOrderItems(data.orderDetail.orderItems);\n\n      if (data.orderDetail.customer) {\n        var name = '';\n        name += data.orderDetail.customer.firstName ? data.orderDetail.customer.firstName + ' ' : '';\n        name += data.orderDetail.customer.middleName ? data.orderDetail.customer.middleName + ' ' : '';\n        name += data.orderDetail.customer.lastName ? data.orderDetail.customer.lastName + ' ' : '';\n        name += ' (' + data.orderDetail.customer.partyId + ')';\n        setFullName(name);\n      }\n    }).catch(function (err) {\n      toast.current.show({\n        severity: 'error',\n        summary: 'Error Message',\n        detail: err.response.data.errors,\n        life: 5000\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  var colSeqBodyTemplate = function colSeqBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"p-column-title\",\n        children: rowData.header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, _this), rowData.orderItemSeqId]\n    }, void 0, true);\n  };\n\n  var colIdBodyTemplate = function colIdBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"p-column-title\",\n        children: rowData.header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, _this), rowData.productId]\n    }, void 0, true);\n  };\n\n  var colDescBodyTemplate = function colDescBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"p-column-title\",\n        children: rowData.header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, _this), rowData.itemDescription]\n    }, void 0, true);\n  };\n\n  var colQtyBodyTemplate = function colQtyBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"p-column-title\",\n        children: rowData.header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, _this), rowData.quantity]\n    }, void 0, true);\n  };\n\n  var colTotalBodyTemplate = function colTotalBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"p-column-title\",\n        children: rowData.header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, _this), rowData.unitAmount]\n    }, void 0, true);\n  };\n\n  var editOrder = function editOrder(e) {\n    history.push(\"/sales/order/edit/\" + id);\n  };\n\n  var cancelOrder = function cancelOrder(e) {\n    var param = {\n      orderId: id\n    };\n    orderService.cancelOrder(param).then(function (data) {\n      var newOrderDetail = cloneDeep(orderDetail);\n      newOrderDetail.statusId = 'OrderCancelled';\n      setOrderDetail(newOrderDetail);\n      toast.current.show({\n        severity: 'success',\n        summary: t('common:successMessage'),\n        detail: t('common:updateSuccess'),\n        life: 5000\n      });\n    }).catch(function (err) {\n      toast.current.show({\n        severity: 'error',\n        summary: t('errorMessage'),\n        detail: err.response.data.errors,\n        life: 5000\n      });\n    });\n  };\n\n  var approveOrder = function approveOrder(e) {\n    var param = {\n      orderId: id\n    };\n    orderService.approveOrder(param).then(function (data) {\n      var newOrderDetail = cloneDeep(orderDetail);\n      newOrderDetail.statusId = 'OrderApproved';\n      setOrderDetail(newOrderDetail);\n      toast.current.show({\n        severity: 'success',\n        summary: t('common:successMessage'),\n        detail: t('common:updateSuccess'),\n        life: 5000\n      });\n    }).catch(function (err) {\n      toast.current.show({\n        severity: 'error',\n        summary: t('errorMessage'),\n        detail: err.response.data.errors,\n        life: 5000\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-grid\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-col-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-12 p-md-7\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: t('common:order.orderDetail')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-12 p-md-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-4\",\n                children: userProfile.roles.includes('ADMIN') && (orderDetail === null || orderDetail === void 0 ? void 0 : orderDetail.statusId) === 'OrderOpen' && /*#__PURE__*/_jsxDEV(Button, {\n                  label: t('common:approve'),\n                  icon: \"pi pi-check\",\n                  className: \"p-button-text p-button-success\",\n                  onClick: function onClick(e) {\n                    return approveOrder(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 41\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-4\",\n                children: orderDetail != null && userProfile.info.partyId === orderDetail.enteredByPartyId && orderDetail.statusId === 'OrderOpen' && /*#__PURE__*/_jsxDEV(Button, {\n                  label: t('common:cancel'),\n                  icon: \"pi pi-trash\",\n                  className: \"p-button-text p-button-danger\",\n                  onClick: function onClick(e) {\n                    return cancelOrder(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 41\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-4\",\n                children: orderDetail != null && userProfile.info.partyId === orderDetail.enteredByPartyId && orderDetail.statusId === 'OrderOpen' && /*#__PURE__*/_jsxDEV(Button, {\n                  label: t('common:edit'),\n                  icon: \"pi pi-pencil\",\n                  className: \"p-button-text\",\n                  onClick: function onClick(e) {\n                    return editOrder(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 41\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-12 p-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-col-12 p-mb-2 p-md-4 p-mb-md-0\",\n                children: t('common:productStore') + ':'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: (orderDetail === null || orderDetail === void 0 ? void 0 : (_orderDetail$productS = orderDetail.productStore) === null || _orderDetail$productS === void 0 ? void 0 : _orderDetail$productS.storeName) + ' (' + (orderDetail === null || orderDetail === void 0 ? void 0 : (_orderDetail$productS2 = orderDetail.productStore) === null || _orderDetail$productS2 === void 0 ? void 0 : _orderDetail$productS2.productStoreId) + ')'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-col-12 p-mb-2 p-md-4 p-mb-md-0\",\n                children: t('common:vendor.label') + ':'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: (orderDetail === null || orderDetail === void 0 ? void 0 : (_orderDetail$vendor = orderDetail.vendor) === null || _orderDetail$vendor === void 0 ? void 0 : _orderDetail$vendor.organizationName) + ' (' + (orderDetail === null || orderDetail === void 0 ? void 0 : (_orderDetail$vendor2 = orderDetail.vendor) === null || _orderDetail$vendor2 === void 0 ? void 0 : _orderDetail$vendor2.partyId) + ')'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-col-12 p-mb-2 p-md-4 p-mb-md-0\",\n                children: t('common:facility.label') + ':'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: (orderDetail === null || orderDetail === void 0 ? void 0 : (_orderDetail$facility = orderDetail.facility) === null || _orderDetail$facility === void 0 ? void 0 : _orderDetail$facility.facilityName) + ' (' + (orderDetail === null || orderDetail === void 0 ? void 0 : (_orderDetail$facility2 = orderDetail.facility) === null || _orderDetail$facility2 === void 0 ? void 0 : _orderDetail$facility2.facilityId) + ')'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-col-12 p-mb-2 p-md-4 p-mb-md-0\",\n                children: t('common:customer.label') + ':'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-col-12 p-mb-2 p-md-4 p-mb-md-0\",\n                children: t('common:order.status') + ':'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: t('status:OrderHeader.' + (orderDetail === null || orderDetail === void 0 ? void 0 : orderDetail.statusId))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-12 p-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-col-12 p-mb-2 p-md-4 p-mb-md-0\",\n                children: t('common:order.id') + ':'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: orderDetail === null ? '' : orderDetail.otherPartyOrderId === null ? orderDetail.orderId : orderDetail.otherPartyOrderId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-col-12 p-mb-2 p-md-4 p-mb-md-0\",\n                children: t('common:priority') + ':'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: orderDetail === null ? '' : orderDetail.priority\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-col-12 p-mb-2 p-md-4 p-mb-md-0\",\n                children: t('common:order.shipBeforeDate') + ':'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: orderDetail != null && orderDetail.shipBeforeDate != null && /*#__PURE__*/_jsxDEV(Moment, {\n                  format: \"DD/MM/YYYY\",\n                  children: orderDetail.shipBeforeDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 41\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-col-12 p-mb-2 p-md-4 p-mb-md-0\",\n                children: t('common:order.deliveryDate') + ':'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: orderDetail != null && orderDetail.estimatedDeliveryDate != null && /*#__PURE__*/_jsxDEV(Moment, {\n                  format: \"DD/MM/YYYY\",\n                  children: orderDetail.estimatedDeliveryDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 41\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-grid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-12 p-mb-12 p-md-12\",\n            children: /*#__PURE__*/_jsxDEV(DataTable, {\n              value: orderItems,\n              dataKey: \"ProductId\",\n              className: \"datatable-responsive\",\n              children: [/*#__PURE__*/_jsxDEV(Column, {\n                field: \"orderItemSeqId\",\n                header: \"#\",\n                body: colSeqBodyTemplate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(Column, {\n                field: \"productId\",\n                header: t('common:product.id'),\n                body: colIdBodyTemplate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(Column, {\n                field: \"productName\",\n                header: t('common:product.name'),\n                body: colDescBodyTemplate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(Column, {\n                field: \"unitAmount\",\n                header: t('common:product.price'),\n                body: colTotalBodyTemplate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(Column, {\n                field: \"quantity\",\n                header: t('common:product.quantity'),\n                body: colQtyBodyTemplate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-12 p-md-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-col-12 p-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-8\",\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: t('common:order.grandTotal')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 37\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-col-12 p-md-4\",\n                children: orderDetail === null ? '' : orderDetail.grandTotal + ' ' + orderDetail.currencyUomId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(OrderDetail, \"TB1KQUF84CFaSL7bDAk0DQLMIvY=\", false, function () {\n  return [useHistory, useTranslation, useParams];\n});\n\n_c = OrderDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderDetail\");","map":{"version":3,"sources":["D:/eway/src/pages/OrderDetail.js"],"names":["React","useState","useEffect","useContext","useTranslation","useParams","useHistory","Moment","DataTable","Column","Button","OrderService","ToastContext","UserProfileContext","cloneDeep","OrderDetail","toast","userProfile","history","orderService","t","id","orderDetail","setOrderDetail","orderItems","setOrderItems","fullName","setFullName","param","orderId","getOrderDetail","then","data","customer","name","firstName","middleName","lastName","partyId","catch","err","current","show","severity","summary","detail","response","errors","life","colSeqBodyTemplate","rowData","header","orderItemSeqId","colIdBodyTemplate","productId","colDescBodyTemplate","itemDescription","colQtyBodyTemplate","quantity","colTotalBodyTemplate","unitAmount","editOrder","e","push","cancelOrder","newOrderDetail","statusId","approveOrder","roles","includes","info","enteredByPartyId","productStore","storeName","productStoreId","vendor","organizationName","facility","facilityName","facilityId","otherPartyOrderId","priority","shipBeforeDate","estimatedDeliveryDate","grandTotal","currencyUomId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Moment from \"react-moment\";\r\n\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\n\r\nimport { OrderService } from '../service/OrderService';\r\n\r\nimport { ToastContext } from \"../App\";\r\nimport {UserProfileContext} from '../App';\r\nimport { cloneDeep } from 'lodash-es';\r\n\r\nexport const OrderDetail = () => {\r\n    const toast = useContext(ToastContext);\r\n    const userProfile = useContext(UserProfileContext);\r\n    const history = useHistory();\r\n\r\n    const orderService = new OrderService();\r\n\r\n    const [ t ] = useTranslation();\r\n    let { id } = useParams();\r\n    const [orderDetail, setOrderDetail] = useState(null);\r\n    const [orderItems, setOrderItems] = useState([]);\r\n    const [fullName, setFullName] = useState('');\r\n\r\n    useEffect(() => {\r\n        let param = {\r\n            orderId: id\r\n        }\r\n        orderService.getOrderDetail(param).then((data)=>{\r\n            setOrderDetail(data.orderDetail);\r\n            setOrderItems(data.orderDetail.orderItems);\r\n\r\n            if (data.orderDetail.customer) {\r\n                let name = '';\r\n\r\n                name += data.orderDetail.customer.firstName ? (data.orderDetail.customer.firstName + ' ') : '';\r\n                name += data.orderDetail.customer.middleName ? (data.orderDetail.customer.middleName + ' ') : '';\r\n                name += data.orderDetail.customer.lastName ? (data.orderDetail.customer.lastName + ' ') : '';\r\n\r\n                name += ' (' + data.orderDetail.customer.partyId + ')';\r\n                setFullName(name);\r\n            }\r\n        })\r\n        .catch(err => {\r\n            toast.current.show({ severity: 'error', summary: 'Error Message', detail: err.response.data.errors, life: 5000 });\r\n        });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const colSeqBodyTemplate = (rowData) => {\r\n        return (\r\n            <>\r\n                <span className=\"p-column-title\">{rowData.header}</span>\r\n                {rowData.orderItemSeqId}\r\n            </>\r\n        );\r\n    }\r\n\r\n    const colIdBodyTemplate = (rowData) => {\r\n        return (\r\n            <>\r\n                <span className=\"p-column-title\">{rowData.header}</span>\r\n                {rowData.productId}\r\n            </>\r\n        );\r\n    }\r\n\r\n    const colDescBodyTemplate = (rowData) => {\r\n        return (\r\n            <>\r\n                <span className=\"p-column-title\">{rowData.header}</span>\r\n                {rowData.itemDescription}\r\n            </>\r\n        );\r\n    }\r\n\r\n    const colQtyBodyTemplate = (rowData) => {\r\n        return (\r\n            <>\r\n                <span className=\"p-column-title\">{rowData.header}</span>\r\n                {rowData.quantity}\r\n            </>\r\n        );\r\n    }\r\n\r\n    const colTotalBodyTemplate = (rowData) => {\r\n        return (\r\n            <>\r\n                <span className=\"p-column-title\">{rowData.header}</span>\r\n                {rowData.unitAmount}\r\n            </>\r\n        );\r\n    }\r\n\r\n    const editOrder = (e) => {\r\n        history.push(\"/sales/order/edit/\" + id);\r\n    }\r\n\r\n    const cancelOrder = (e) => {\r\n        let param = {\r\n            orderId: id\r\n        }\r\n\r\n        orderService.cancelOrder(param).then((data)=>{\r\n            let newOrderDetail = cloneDeep(orderDetail);\r\n            newOrderDetail.statusId = 'OrderCancelled';\r\n            setOrderDetail(newOrderDetail);\r\n\r\n            toast.current.show({ severity: 'success', summary: t('common:successMessage'), detail: t('common:updateSuccess'), life: 5000 });\r\n        })\r\n        .catch(err => {\r\n            toast.current.show({ severity: 'error', summary: t('errorMessage'), detail: err.response.data.errors, life: 5000 });\r\n        });\r\n    }\r\n\r\n    const approveOrder = (e) => {\r\n        let param = {\r\n            orderId: id\r\n        }\r\n\r\n        orderService.approveOrder(param).then((data)=>{\r\n            let newOrderDetail = cloneDeep(orderDetail);\r\n            newOrderDetail.statusId = 'OrderApproved';\r\n            setOrderDetail(newOrderDetail);\r\n\r\n            toast.current.show({ severity: 'success', summary: t('common:successMessage'), detail: t('common:updateSuccess'), life: 5000 });\r\n        })\r\n        .catch(err => {\r\n            toast.current.show({ severity: 'error', summary: t('errorMessage'), detail: err.response.data.errors, life: 5000 });\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col-12\">\r\n                <div className=\"card p-fluid\">\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col-12 p-md-7\">\r\n                            <h5>{t('common:order.orderDetail')}</h5>\r\n                        </div>\r\n                        <div className=\"p-col-12 p-md-5\">\r\n                            <div className=\"p-grid\">\r\n                                <div className=\"p-col-12 p-md-4\">\r\n                                    {\r\n                                        userProfile.roles.includes('ADMIN') && orderDetail?.statusId === 'OrderOpen' &&\r\n                                        <Button label={t('common:approve')} icon=\"pi pi-check\" className=\"p-button-text p-button-success\" onClick={(e) => approveOrder(e)} />}\r\n                                </div>\r\n                                <div className=\"p-col-12 p-md-4\">\r\n                                    {\r\n                                        orderDetail != null && userProfile.info.partyId === orderDetail.enteredByPartyId && orderDetail.statusId === 'OrderOpen' &&\r\n                                        <Button label={t('common:cancel')} icon=\"pi pi-trash\" className=\"p-button-text p-button-danger\" onClick={(e) => cancelOrder(e)} />\r\n                                    }\r\n                                </div>\r\n                                <div className=\"p-col-12 p-md-4\">\r\n                                    {\r\n                                        orderDetail != null && userProfile.info.partyId === orderDetail.enteredByPartyId && orderDetail.statusId === 'OrderOpen' &&\r\n                                        <Button label={t('common:edit')} icon=\"pi pi-pencil\" className=\"p-button-text\" onClick={(e) => editOrder(e)} />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col-12 p-md-6\">\r\n                            <div className=\"p-field p-grid\">\r\n                                <label className=\"p-col-12 p-mb-2 p-md-4 p-mb-md-0\">{t('common:productStore') + ':'}</label>\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    {orderDetail?.productStore?.storeName + ' (' + orderDetail?.productStore?.productStoreId + ')'}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-field p-grid\">\r\n                                <label className=\"p-col-12 p-mb-2 p-md-4 p-mb-md-0\">{t('common:vendor.label') + ':'}</label>\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    {orderDetail?.vendor?.organizationName + ' (' + orderDetail?.vendor?.partyId + ')'}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-field p-grid\">\r\n                                <label className=\"p-col-12 p-mb-2 p-md-4 p-mb-md-0\">{t('common:facility.label') + ':'}</label>\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    {orderDetail?.facility?.facilityName + ' (' + orderDetail?.facility?.facilityId + ')'}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-field p-grid\">\r\n                                <label className=\"p-col-12 p-mb-2 p-md-4 p-mb-md-0\">{t('common:customer.label') + ':'}</label>\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    {fullName}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-field p-grid\">\r\n                                <label className=\"p-col-12 p-mb-2 p-md-4 p-mb-md-0\">{t('common:order.status') + ':'}</label>\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    {t('status:OrderHeader.' + orderDetail?.statusId)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"p-col-12 p-md-6\">\r\n                            <div className=\"p-field p-grid\">\r\n                                <label className=\"p-col-12 p-mb-2 p-md-4 p-mb-md-0\">{t('common:order.id') + ':'}</label>\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    {orderDetail === null ? '' : orderDetail.otherPartyOrderId === null ? orderDetail.orderId : orderDetail.otherPartyOrderId}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-field p-grid\">\r\n                                <label className=\"p-col-12 p-mb-2 p-md-4 p-mb-md-0\">{t('common:priority') + ':'}</label>\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    {orderDetail === null ? '' : orderDetail.priority}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-field p-grid\">\r\n                                <label className=\"p-col-12 p-mb-2 p-md-4 p-mb-md-0\">{t('common:order.shipBeforeDate') + ':'}</label>\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    {\r\n                                        orderDetail != null && orderDetail.shipBeforeDate != null &&\r\n                                        <Moment format=\"DD/MM/YYYY\">{orderDetail.shipBeforeDate}</Moment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-field p-grid\">\r\n                                <label className=\"p-col-12 p-mb-2 p-md-4 p-mb-md-0\">{t('common:order.deliveryDate') + ':'}</label>\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    {\r\n                                        orderDetail != null && orderDetail.estimatedDeliveryDate != null &&\r\n                                        <Moment format=\"DD/MM/YYYY\">{orderDetail.estimatedDeliveryDate}</Moment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col-12 p-mb-12 p-md-12\">\r\n                            <DataTable value={orderItems} dataKey=\"ProductId\"  className=\"datatable-responsive\">\r\n                                <Column field=\"orderItemSeqId\" header=\"#\" body={colSeqBodyTemplate}></Column>\r\n                                <Column field=\"productId\" header={t('common:product.id')} body={colIdBodyTemplate}></Column>\r\n                                <Column field=\"productName\" header={t('common:product.name')}  body={colDescBodyTemplate}></Column>\r\n                                <Column field=\"unitAmount\" header={t('common:product.price')} body={colTotalBodyTemplate}></Column>\r\n                                <Column field=\"quantity\" header={t('common:product.quantity')} body={colQtyBodyTemplate}></Column>\r\n                            </DataTable>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"p-grid\">\r\n                        <div className=\"p-col-12 p-md-6\"></div>\r\n                        <div className=\"p-col-12 p-md-6\">\r\n                            <div className=\"p-field p-grid\">\r\n                                <div className=\"p-col-12 p-md-8\">\r\n                                    <h4>{t('common:order.grandTotal')}</h4>\r\n                                </div>\r\n                                <div className=\"p-col-12 p-md-4\">\r\n                                    {orderDetail === null ? '' : (orderDetail.grandTotal + ' ' + orderDetail.currencyUomId)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}