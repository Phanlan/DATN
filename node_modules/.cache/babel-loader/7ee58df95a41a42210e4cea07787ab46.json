{"ast":null,"code":"import _objectSpread from \"D:/eway/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"D:/eway/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\eway\\\\src\\\\pages\\\\Logistics\\\\Export\\\\ExportFacilityList\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"D:\\\\eway\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport { Column } from 'primereact/column';\nimport { DataTable } from 'primereact/datatable';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Toast } from 'primereact/toast';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Moment from 'react-moment';\nimport { useLocation } from 'react-router';\nimport { FacilityService } from '../../../../service/FacilityService';\nimport { ShipmentService } from '../../../../service/ShipmentService';\nimport { StatusItemService } from '../../../../service/StatusItemService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ExportFacilityList = function ExportFacilityList() {\n  _s();\n\n  // let emptyAsset = {\n  //   assetId: '',\n  //   assetName: '',\n  //   assetTypeEnumId: '',\n  //   statusId: '',\n  //   ownerPartyId: '',\n  //   facilityId: '',\n  //   productId: '',\n  //   hasQuantity: '',\n  //   quantityOnHandTotal: 0,\n  //   availableToPromiseTotal: 0,\n  //   originalQuantity: 0,\n  //   receivedDate: '',\n  //   acquiredDate: '',\n  //   classEnumId: '',\n  // };\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      assets = _useState2[0],\n      setAssets = _useState2[1]; // const [asset, setAsset] = useState(emptyAsset);\n  // const [selectedAsset, setSelectedAsset] = useState(null);// for single selection onSelectionChange={(e) => setSelectedAsset(e.value)}\n  // const [manufacturedDate, setManufacturedDate] = useState();\n  // const [assetDetailDialog, setAssetDetailDialog] = useState(false);\n\n\n  var toast = useRef(null);\n  var dt = useRef(null);\n  var location = useLocation(); // const {t} = useTranslation();\n  // table lazy\n\n  var _useState3 = useState({\n    first: 0,\n    rows: 10,\n    page: 0,\n    // presort\n    sortField: 'shipmentId',\n    sortOrder: -1,\n    filters: {}\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lazyParams = _useState4[0],\n      setLazyParams = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      totalRecords = _useState8[0],\n      setTotalRecords = _useState8[1];\n\n  var loadLazyTimeout = null; //\n\n  var _useState9 = useState([{}]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      assetStatuses = _useState10[0],\n      setAssetStatuses = _useState10[1];\n\n  var _useState11 = useState({}),\n      _useState12 = _slicedToArray(_useState11, 2),\n      selectedAssetStatus = _useState12[0],\n      setSelectedAssetStatus = _useState12[1];\n\n  var _useState13 = useState([{}]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      facilities = _useState14[0],\n      setFacilities = _useState14[1];\n\n  var _useState15 = useState({}),\n      _useState16 = _slicedToArray(_useState15, 2),\n      selectedFacility = _useState16[0],\n      setSelectedFacility = _useState16[1]; //\n\n\n  useEffect(function () {\n    var facilityService = new FacilityService();\n    var statusItemService = new StatusItemService();\n\n    var getAssetStatuses = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                statusItemService.getAssets().then(function (data) {\n                  setAssetStatuses(data.statusList);\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getAssetStatuses() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var getAllFacilities = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                facilityService.getFacilities({\n                  pageNoLimit: true\n                }).then(function (data) {\n                  setFacilities(data.facilityList);\n                });\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function getAllFacilities() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getAssetStatuses();\n    getAllFacilities();\n    return function () {\n      setAssetStatuses([{}]);\n      setFacilities([{}]);\n    };\n  }, []);\n  useEffect(function () {\n    var shipmentService = new ShipmentService();\n\n    var loadLazyData = function loadLazyData() {\n      setLoading(true);\n\n      if (loadLazyTimeout) {\n        clearTimeout(loadLazyTimeout);\n      } //imitate delay of a backend call\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n      loadLazyTimeout = setTimeout(function () {\n        shipmentService.getShipments(transformRequest()).then(function (data) {\n          setTotalRecords(data.totalRecords);\n          setAssets(data.shipmentsList);\n          setLoading(false);\n        });\n      }, Math.random() * 1000 + 250);\n    };\n\n    loadLazyData();\n  }, [lazyParams, location.pathname]); // const getAssetStatuses = () => {\n  //     statusItemService.getAssets().then(data => {setAssetStatuses(data.statusList)});\n  // }\n  // const getAllFacilities = () => {\n  //     facilityService.getFacilities({\"pageNoLimit\": true}).then(data => {\n  //         setFacilities(data.facilityList);\n  //     });\n  // }\n\n  var transformRequest = function transformRequest() {\n    var params = {\n      pageIndex: lazyParams.page,\n      pageSize: lazyParams.rows,\n      shipmentTypeEnumId: location.pathname === '/logistics/export' ? 'ShpTpSales' : 'ShpTpPurchase'\n    }; // sort object\n\n    if (lazyParams.sortOrder) {\n      params['orderByField'] = (lazyParams.sortOrder === -1 ? '-' : '') + lazyParams.sortField; // simple for single sort\n    } // filters object\n\n\n    if (lazyParams.filters) {\n      for (var _i = 0, _Object$entries = Object.entries(lazyParams.filters); _i < _Object$entries.length; _i++) {\n        var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n            key = _Object$entries$_i[0],\n            value = _Object$entries$_i[1];\n\n        params[key] = value.value; // equal for all\n        // matchMode\n      }\n    }\n\n    return params;\n  };\n\n  var onPage = function onPage(event) {\n    var _lazyParams = _objectSpread(_objectSpread({}, lazyParams), event);\n\n    setLazyParams(_lazyParams);\n  };\n\n  var onSort = function onSort(event) {\n    var _lazyParams = _objectSpread(_objectSpread({}, lazyParams), event);\n\n    setLazyParams(_lazyParams);\n  };\n\n  var onFilter = function onFilter(event) {\n    var _lazyParams = _objectSpread(_objectSpread({}, lazyParams), event);\n\n    _lazyParams['first'] = 0;\n    setLazyParams(_lazyParams);\n  };\n\n  var onFacilityChange = function onFacilityChange(e) {\n    dt.current.filter(e.value, 'facilityId', 'equals');\n    setSelectedFacility(e.value);\n  }; // const onAssetStatusChange = (e) => {\n  //   dt.current.filter(e.value, 'statusId', 'equals');\n  //   setSelectedAssetStatus(e.value);\n  // };\n  // const onManufacturedDateChange = (e) => {\n  //     dt.current.filter(e.value, 'receivedDate');\n  //     setManufacturedDate(e.value);\n  // }\n\n\n  var bodyShipmentIdTemplate = function bodyShipmentIdTemplate(data, props) {\n    return /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#/logistics/export/detail/\".concat(data[props.field]),\n      style: {\n        color: '#2196f3'\n      },\n      children: data[props.field]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var rowIndexBodyTemplate = function rowIndexBodyTemplate(rowData, props) {\n    var index = parseInt(props.rowIndex + 1);\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: index\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 12\n    }, _this);\n  };\n\n  var assetStatusBodyTemplate = function assetStatusBodyTemplate(rowData) {\n    var _assetStatuses$find;\n\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: assetStatuses === null || assetStatuses === void 0 ? void 0 : (_assetStatuses$find = assetStatuses.find(function (item) {\n        return item.statusId === rowData.statusId;\n      })) === null || _assetStatuses$find === void 0 ? void 0 : _assetStatuses$find.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 12\n    }, _this);\n  };\n\n  var facilityBodyTemplate = function facilityBodyTemplate(rowData) {\n    var _facilities$find;\n\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: facilities === null || facilities === void 0 ? void 0 : (_facilities$find = facilities.find(function (item) {\n        return item.facilityId === rowData.originFacilityId;\n      })) === null || _facilities$find === void 0 ? void 0 : _facilities$find.facilityName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 12\n    }, _this);\n  };\n\n  var assetIdBodyTemplate = function assetIdBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"p-button-link\" //  onClick={(e) => detailAsset(rowData)}\n      ,\n      style: {\n        color: '#2196f3'\n      },\n      children: [' ', rowData.assetId, ' ']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var productIdBodyTemplate = function productIdBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"p-button-link\",\n      children: rowData.statusId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 12\n    }, _this);\n  };\n\n  var dateBodyTemplate = function dateBodyTemplate(rowData, props) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\" \", rowData[props.field] != null && /*#__PURE__*/_jsxDEV(Moment, {\n        format: \"DD/MM/YYYY HH:mm\",\n        children: rowData[props.field]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 47\n      }, _this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var numberBodyTemplate = function numberBodyTemplate(rowData, props) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\" \", rowData[props.field] != null && rowData[props.field].toLocaleString(), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 12\n    }, _this);\n  };\n\n  var facilityOptionBodyTemplate = function facilityOptionBodyTemplate(option) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-multiselect-representative-option\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [option.facilityName, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var titleHeader = location.pathname === '/logistics/export' ? 'Danh sách xuất kho' : 'Danh sách nhập kho';\n\n  var facilityFilter = /*#__PURE__*/_jsxDEV(Dropdown, {\n    value: selectedFacility,\n    options: facilities,\n    optionLabel: \"facilityName\",\n    optionValue: \"facilityId\",\n    onChange: onFacilityChange,\n    className: \"p-column-filter\",\n    showClear: true,\n    filter: true,\n    filterBy: \"facilityName\",\n    itemTemplate: facilityOptionBodyTemplate\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 5\n  }, _this); // const assetStatusFilter = (\n  //   <Dropdown\n  //     value={selectedAssetStatus}\n  //     options={assetStatuses}\n  //     optionLabel=\"description\"\n  //     optionValue=\"statusId\"\n  //     onChange={onAssetStatusChange}\n  //     className=\"p-column-filter\"\n  //     showClear\n  //     filter\n  //     filterBy=\"description\"\n  //   />\n  // );\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"datatable-crud\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: titleHeader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Toast, {\n        ref: toast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(DataTable, {\n        ref: dt,\n        value: assets,\n        lazy: true,\n        dataKey: \"shipmentId\",\n        selectionMode: \"single\",\n        paginator: true,\n        first: lazyParams.first,\n        rows: lazyParams.rows,\n        totalRecords: totalRecords,\n        onPage: onPage,\n        onSort: onSort,\n        sortField: lazyParams.sortField,\n        sortOrder: lazyParams.sortOrder,\n        onFilter: onFilter,\n        filters: lazyParams.filters,\n        loading: loading,\n        rowsPerPageOptions: [10, 25, 50, 100],\n        paginatorTemplate: \"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\",\n        currentPageReportTemplate: \"Showing {first} to {last} of {totalRecords}\",\n        frozenWidth: \"200px\",\n        scrollable: true,\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          header: \"#\",\n          body: rowIndexBodyTemplate,\n          headerStyle: {\n            width: '2rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"shipmentId\",\n          header: \"M\\xE3 phi\\u1EBFu xu\\u1EA5t\",\n          sortable: true,\n          filter: true,\n          body: bodyShipmentIdTemplate // filterElement={facilityFilter}\n          ,\n          frozen: true,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"assetId\",\n          header: \"M\\xE3 \\u0111\\u01A1n h\\xE0ng\",\n          sortable: true,\n          filter: true,\n          body: assetIdBodyTemplate,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"productId\",\n          header: \"Tr\\u1EA1ng th\\xE1i\",\n          sortable: true,\n          filter: true,\n          body: productIdBodyTemplate,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"entryDate\",\n          header: \"Ng\\xE0y t\\u1EA1o\",\n          sortable: true,\n          filter: true,\n          body: dateBodyTemplate,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"destPostalAddress1\",\n          header: \"\\u0110\\u1ECBa ch\\u1EC9 kh\\xE1ch h\\xE0ng\",\n          sortable: true,\n          filter: true,\n          body: numberBodyTemplate,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"lotId\",\n          header: \"Th\\u1EDDi gian y\\xEAu c\\u1EA7u giao\",\n          sortable: true,\n          filter: true,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"estimatedArrivalDate\",\n          header: \"Th\\u1EDDi gian d\\u1EF1 ki\\u1EBFn giao\",\n          sortable: true,\n          filter: true,\n          body: dateBodyTemplate,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"statusId\",\n          header: \"Th\\u1EDDi gian th\\u1EF1c t\\u1EBF giao\",\n          sortable: true,\n          filter: true,\n          body: assetStatusBodyTemplate,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"statusId\",\n          header: \"Th\\u1EDDi gian d\\u1EF1 ki\\u1EBFn xu\\u1EA5t\",\n          sortable: true,\n          filter: true,\n          body: assetStatusBodyTemplate,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"statusId\",\n          header: \"Th\\u1EDDi gian th\\u1EF1c t\\u1EBF xu\\u1EA5t\",\n          sortable: true,\n          filter: true,\n          body: assetStatusBodyTemplate,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"originFacilityId\",\n          header: \"Kho xu\\u1EA5t h\\xE0ng\",\n          sortable: true,\n          filter: true,\n          body: facilityBodyTemplate,\n          filterElement: facilityFilter,\n          headerStyle: {\n            width: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ExportFacilityList, \"nt7kaKPNhMVMoBQ1y4Q1kvdFllU=\", false, function () {\n  return [useLocation];\n});\n\n_c = ExportFacilityList;\nexport default ExportFacilityList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExportFacilityList\");","map":{"version":3,"sources":["D:/eway/src/pages/Logistics/Export/ExportFacilityList/index.js"],"names":["Column","DataTable","Dropdown","Toast","React","useEffect","useRef","useState","Moment","useLocation","FacilityService","ShipmentService","StatusItemService","ExportFacilityList","assets","setAssets","toast","dt","location","first","rows","page","sortField","sortOrder","filters","lazyParams","setLazyParams","loading","setLoading","totalRecords","setTotalRecords","loadLazyTimeout","assetStatuses","setAssetStatuses","selectedAssetStatus","setSelectedAssetStatus","facilities","setFacilities","selectedFacility","setSelectedFacility","facilityService","statusItemService","getAssetStatuses","getAssets","then","data","statusList","getAllFacilities","getFacilities","pageNoLimit","facilityList","shipmentService","loadLazyData","clearTimeout","setTimeout","getShipments","transformRequest","shipmentsList","Math","random","pathname","params","pageIndex","pageSize","shipmentTypeEnumId","Object","entries","key","value","onPage","event","_lazyParams","onSort","onFilter","onFacilityChange","e","current","filter","bodyShipmentIdTemplate","props","field","color","rowIndexBodyTemplate","rowData","index","parseInt","rowIndex","assetStatusBodyTemplate","find","item","statusId","description","facilityBodyTemplate","facilityId","originFacilityId","facilityName","assetIdBodyTemplate","assetId","productIdBodyTemplate","dateBodyTemplate","numberBodyTemplate","toLocaleString","facilityOptionBodyTemplate","option","titleHeader","facilityFilter","width"],"mappings":"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","sourcesContent":["import {Column} from 'primereact/column';\r\nimport {DataTable} from 'primereact/datatable';\r\nimport {Dropdown} from 'primereact/dropdown';\r\nimport {Toast} from 'primereact/toast';\r\nimport React, {useEffect, useRef, useState} from 'react';\r\nimport Moment from 'react-moment';\r\nimport {useLocation} from 'react-router';\r\nimport {FacilityService} from '../../../../service/FacilityService';\r\nimport {ShipmentService} from '../../../../service/ShipmentService';\r\nimport {StatusItemService} from '../../../../service/StatusItemService';\r\n\r\nconst ExportFacilityList = () => {\r\n  // let emptyAsset = {\r\n  //   assetId: '',\r\n  //   assetName: '',\r\n  //   assetTypeEnumId: '',\r\n  //   statusId: '',\r\n  //   ownerPartyId: '',\r\n  //   facilityId: '',\r\n  //   productId: '',\r\n  //   hasQuantity: '',\r\n  //   quantityOnHandTotal: 0,\r\n  //   availableToPromiseTotal: 0,\r\n  //   originalQuantity: 0,\r\n  //   receivedDate: '',\r\n  //   acquiredDate: '',\r\n  //   classEnumId: '',\r\n  // };\r\n\r\n  const [assets, setAssets] = useState(null);\r\n  // const [asset, setAsset] = useState(emptyAsset);\r\n  // const [selectedAsset, setSelectedAsset] = useState(null);// for single selection onSelectionChange={(e) => setSelectedAsset(e.value)}\r\n\r\n  // const [manufacturedDate, setManufacturedDate] = useState();\r\n  // const [assetDetailDialog, setAssetDetailDialog] = useState(false);\r\n\r\n  const toast = useRef(null);\r\n  const dt = useRef(null);\r\n  const location = useLocation();\r\n  // const {t} = useTranslation();\r\n\r\n  // table lazy\r\n  const [lazyParams, setLazyParams] = useState({\r\n    first: 0,\r\n    rows: 10,\r\n    page: 0,\r\n    // presort\r\n    sortField: 'shipmentId',\r\n    sortOrder: -1,\r\n    filters: {},\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [totalRecords, setTotalRecords] = useState(0);\r\n  let loadLazyTimeout = null;\r\n\r\n  //\r\n  const [assetStatuses, setAssetStatuses] = useState([{}]);\r\n  const [selectedAssetStatus, setSelectedAssetStatus] = useState({});\r\n  const [facilities, setFacilities] = useState([{}]);\r\n  const [selectedFacility, setSelectedFacility] = useState({});\r\n  //\r\n\r\n  useEffect(() => {\r\n    const facilityService = new FacilityService();\r\n    const statusItemService = new StatusItemService();\r\n\r\n    const getAssetStatuses = async () => {\r\n      statusItemService.getAssets().then((data) => {\r\n        setAssetStatuses(data.statusList);\r\n      });\r\n    };\r\n    const getAllFacilities = async () => {\r\n      facilityService.getFacilities({pageNoLimit: true}).then((data) => {\r\n        setFacilities(data.facilityList);\r\n      });\r\n    };\r\n\r\n    getAssetStatuses();\r\n    getAllFacilities();\r\n    return () => {\r\n      setAssetStatuses([{}]);\r\n      setFacilities([{}]);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const shipmentService = new ShipmentService();\r\n\r\n    const loadLazyData = () => {\r\n      setLoading(true);\r\n\r\n      if (loadLazyTimeout) {\r\n        clearTimeout(loadLazyTimeout);\r\n      }\r\n\r\n      //imitate delay of a backend call\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      loadLazyTimeout = setTimeout(() => {\r\n        shipmentService.getShipments(transformRequest()).then((data) => {\r\n          setTotalRecords(data.totalRecords);\r\n          setAssets(data.shipmentsList);\r\n          setLoading(false);\r\n        });\r\n      }, Math.random() * 1000 + 250);\r\n    };\r\n\r\n    loadLazyData();\r\n  }, [lazyParams, location.pathname]);\r\n\r\n  // const getAssetStatuses = () => {\r\n  //     statusItemService.getAssets().then(data => {setAssetStatuses(data.statusList)});\r\n  // }\r\n  // const getAllFacilities = () => {\r\n  //     facilityService.getFacilities({\"pageNoLimit\": true}).then(data => {\r\n  //         setFacilities(data.facilityList);\r\n  //     });\r\n  // }\r\n\r\n  const transformRequest = () => {\r\n    let params = {\r\n      pageIndex: lazyParams.page,\r\n      pageSize: lazyParams.rows,\r\n      shipmentTypeEnumId: location.pathname === '/logistics/export' ? 'ShpTpSales' : 'ShpTpPurchase',\r\n    };\r\n    // sort object\r\n    if (lazyParams.sortOrder) {\r\n      params['orderByField'] = (lazyParams.sortOrder === -1 ? '-' : '') + lazyParams.sortField; // simple for single sort\r\n    }\r\n    // filters object\r\n    if (lazyParams.filters) {\r\n      for (let [key, value] of Object.entries(lazyParams.filters)) {\r\n        params[key] = value.value; // equal for all\r\n        // matchMode\r\n      }\r\n    }\r\n    return params;\r\n  };\r\n\r\n  const onPage = (event) => {\r\n    let _lazyParams = {...lazyParams, ...event};\r\n    setLazyParams(_lazyParams);\r\n  };\r\n\r\n  const onSort = (event) => {\r\n    let _lazyParams = {...lazyParams, ...event};\r\n    setLazyParams(_lazyParams);\r\n  };\r\n\r\n  const onFilter = (event) => {\r\n    let _lazyParams = {...lazyParams, ...event};\r\n    _lazyParams['first'] = 0;\r\n    setLazyParams(_lazyParams);\r\n  };\r\n\r\n  const onFacilityChange = (e) => {\r\n    dt.current.filter(e.value, 'facilityId', 'equals');\r\n    setSelectedFacility(e.value);\r\n  };\r\n  // const onAssetStatusChange = (e) => {\r\n  //   dt.current.filter(e.value, 'statusId', 'equals');\r\n  //   setSelectedAssetStatus(e.value);\r\n  // };\r\n\r\n  // const onManufacturedDateChange = (e) => {\r\n  //     dt.current.filter(e.value, 'receivedDate');\r\n  //     setManufacturedDate(e.value);\r\n  // }\r\n\r\n  const bodyShipmentIdTemplate = (data, props) => {\r\n    return (\r\n      <a href={`#/logistics/export/detail/${data[props.field]}`} style={{color: '#2196f3'}}>\r\n        {data[props.field]}\r\n      </a>\r\n    );\r\n  };\r\n\r\n  const rowIndexBodyTemplate = (rowData, props) => {\r\n    let index = parseInt(props.rowIndex + 1);\r\n    return <span>{index}</span>;\r\n  };\r\n\r\n  const assetStatusBodyTemplate = (rowData) => {\r\n    return <span>{assetStatuses?.find((item) => item.statusId === rowData.statusId)?.description}</span>;\r\n  };\r\n\r\n  const facilityBodyTemplate = (rowData) => {\r\n    return <span>{facilities?.find((item) => item.facilityId === rowData.originFacilityId)?.facilityName}</span>;\r\n  };\r\n\r\n  const assetIdBodyTemplate = (rowData) => {\r\n    return (\r\n      <span\r\n        className=\"p-button-link\"\r\n        //  onClick={(e) => detailAsset(rowData)}\r\n        style={{color: '#2196f3'}}\r\n      >\r\n        {' '}\r\n        {rowData.assetId}{' '}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const productIdBodyTemplate = (rowData) => {\r\n    return <span className=\"p-button-link\">{rowData.statusId}</span>;\r\n  };\r\n\r\n  const dateBodyTemplate = (rowData, props) => {\r\n    return (\r\n      <span> {rowData[props.field] != null && <Moment format=\"DD/MM/YYYY HH:mm\">{rowData[props.field]}</Moment>} </span>\r\n    );\r\n  };\r\n\r\n  const numberBodyTemplate = (rowData, props) => {\r\n    return <span> {rowData[props.field] != null && rowData[props.field].toLocaleString()} </span>;\r\n  };\r\n\r\n  const facilityOptionBodyTemplate = (option) => {\r\n    return (\r\n      <div className=\"p-multiselect-representative-option\">\r\n        <span>{option.facilityName} </span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const titleHeader = location.pathname === '/logistics/export' ? 'Danh sách xuất kho' : 'Danh sách nhập kho';\r\n\r\n  const facilityFilter = (\r\n    <Dropdown\r\n      value={selectedFacility}\r\n      options={facilities}\r\n      optionLabel=\"facilityName\"\r\n      optionValue=\"facilityId\"\r\n      onChange={onFacilityChange}\r\n      className=\"p-column-filter\"\r\n      showClear\r\n      filter\r\n      filterBy=\"facilityName\"\r\n      itemTemplate={facilityOptionBodyTemplate}\r\n    />\r\n  );\r\n  // const assetStatusFilter = (\r\n  //   <Dropdown\r\n  //     value={selectedAssetStatus}\r\n  //     options={assetStatuses}\r\n  //     optionLabel=\"description\"\r\n  //     optionValue=\"statusId\"\r\n  //     onChange={onAssetStatusChange}\r\n  //     className=\"p-column-filter\"\r\n  //     showClear\r\n  //     filter\r\n  //     filterBy=\"description\"\r\n  //   />\r\n  // );\r\n\r\n  return (\r\n    <div className=\"datatable-crud\">\r\n      <div className=\"card\">\r\n        <h5>{titleHeader}</h5>\r\n        <Toast ref={toast} />\r\n        <DataTable\r\n          ref={dt}\r\n          value={assets}\r\n          lazy\r\n          dataKey=\"shipmentId\"\r\n          selectionMode=\"single\"\r\n          paginator\r\n          first={lazyParams.first}\r\n          rows={lazyParams.rows}\r\n          totalRecords={totalRecords}\r\n          onPage={onPage}\r\n          onSort={onSort}\r\n          sortField={lazyParams.sortField}\r\n          sortOrder={lazyParams.sortOrder}\r\n          onFilter={onFilter}\r\n          filters={lazyParams.filters}\r\n          loading={loading}\r\n          rowsPerPageOptions={[10, 25, 50, 100]}\r\n          paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\r\n          currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords}\"\r\n          frozenWidth=\"200px\"\r\n          scrollable\r\n        >\r\n          <Column header=\"#\" body={rowIndexBodyTemplate} headerStyle={{width: '2rem'}} />\r\n          <Column\r\n            field=\"shipmentId\"\r\n            header=\"Mã phiếu xuất\"\r\n            sortable\r\n            filter\r\n            body={bodyShipmentIdTemplate}\r\n            // filterElement={facilityFilter}\r\n            frozen\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n          <Column\r\n            field=\"assetId\"\r\n            header=\"Mã đơn hàng\"\r\n            sortable\r\n            filter\r\n            body={assetIdBodyTemplate}\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n          <Column\r\n            field=\"productId\"\r\n            header=\"Trạng thái\"\r\n            sortable\r\n            filter\r\n            body={productIdBodyTemplate}\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n          <Column\r\n            field=\"entryDate\"\r\n            header=\"Ngày tạo\"\r\n            sortable\r\n            filter\r\n            body={dateBodyTemplate}\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n          <Column\r\n            field=\"destPostalAddress1\"\r\n            header=\"Địa chỉ khách hàng\"\r\n            sortable\r\n            filter\r\n            body={numberBodyTemplate}\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n          <Column field=\"lotId\" header=\"Thời gian yêu cầu giao\" sortable filter headerStyle={{width: '200px'}} />\r\n          <Column\r\n            field=\"estimatedArrivalDate\"\r\n            header=\"Thời gian dự kiến giao\"\r\n            sortable\r\n            filter\r\n            body={dateBodyTemplate}\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n          <Column\r\n            field=\"statusId\"\r\n            header=\"Thời gian thực tế giao\"\r\n            sortable\r\n            filter\r\n            body={assetStatusBodyTemplate}\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n          <Column\r\n            field=\"statusId\"\r\n            header=\"Thời gian dự kiến xuất\"\r\n            sortable\r\n            filter\r\n            body={assetStatusBodyTemplate}\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n          <Column\r\n            field=\"statusId\"\r\n            header=\"Thời gian thực tế xuất\"\r\n            sortable\r\n            filter\r\n            body={assetStatusBodyTemplate}\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n          <Column\r\n            field=\"originFacilityId\"\r\n            header=\"Kho xuất hàng\"\r\n            sortable\r\n            filter\r\n            body={facilityBodyTemplate}\r\n            filterElement={facilityFilter}\r\n            headerStyle={{width: '200px'}}\r\n          />\r\n        </DataTable>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExportFacilityList;\r\n"]},"metadata":{},"sourceType":"module"}