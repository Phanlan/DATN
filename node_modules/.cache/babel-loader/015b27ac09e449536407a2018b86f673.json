{"ast":null,"code":"import _slicedToArray from \"D:/eway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\eway\\\\src\\\\pages\\\\Promotion\\\\CreatePromotion\\\\header.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CommonService } from '../../../service/CommonService';\nimport { UserProfileContext } from '../../../App';\nimport { ToastContext } from \"../../../App\";\nimport { DropdownController } from '../../../components/PromotionComponent/DropdownController';\nimport { InputTextController } from '../../../components/PromotionComponent/InputTextController';\nimport { InputNumberController } from '../../../components/PromotionComponent/InputNumberController';\nimport { CalendarController } from '../../../components/PromotionComponent/CalendarController';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var Header = function Header(props) {\n  _s();\n\n  var control = props.control,\n      errors = props.errors;\n\n  var _useTranslation = useTranslation('common'),\n      _useTranslation2 = _slicedToArray(_useTranslation, 1),\n      t = _useTranslation2[0];\n\n  var userProfile = useContext(UserProfileContext);\n  var toast = useContext(ToastContext);\n  var yesNoItems = [{\n    name: t('yes'),\n    code: '1'\n  }, {\n    name: t('no'),\n    code: '0'\n  }];\n  useEffect(function () {\n    var commonService = new CommonService();\n    commonService.getProductStores(userProfile.info.partyId).then(function (data) {\n      var values = [];\n      data.productStoreList.forEach(function (element) {\n        var value = {\n          name: element['productStoreId'],\n          code: element['productStoreId']\n        };\n        values.push(value);\n      });\n      setListProductStoreId(values);\n    }).catch(function (err) {\n      toast.current.show({\n        severity: 'error',\n        summary: 'Error Message',\n        detail: err.response.data.errors,\n        life: 5000\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      listProductStoreId = _useState2[0],\n      setListProductStoreId = _useState2[1];\n\n  var getFormErrorMessage = function getFormErrorMessage(name) {\n    var _errors$name;\n\n    return errors[name] && /*#__PURE__*/_jsxDEV(\"small\", {\n      className: \"p-error\",\n      children: (_errors$name = errors[name]) === null || _errors$name === void 0 ? void 0 : _errors$name.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 32\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12 p-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(InputTextController, {\n          id: \"itemDescription\",\n          label: t('pos.promoName'),\n          checkErr: true,\n          control: control,\n          getFormErrorMessage: getFormErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(DropdownController, {\n          id: \"productStoreId\",\n          label: t('productStore'),\n          checkErr: true,\n          options: listProductStoreId,\n          control: control,\n          getFormErrorMessage: getFormErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(CalendarController, {\n          id: \"fromDate\",\n          label: t('pos.startDate'),\n          checkErr: true,\n          showIcon: true,\n          showButtonBar: true,\n          control: control,\n          getFormErrorMessage: getFormErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(CalendarController, {\n          id: \"thruDate\",\n          label: t('pos.endDate'),\n          showIcon: true,\n          showButtonBar: true,\n          control: control,\n          getFormErrorMessage: getFormErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12 p-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(InputTextController, {\n          id: \"sequenceNum\",\n          label: t('promotion.sequenceNum'),\n          control: control,\n          getFormErrorMessage: getFormErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(DropdownController, {\n          id: \"requireCode\",\n          label: t('pos.requestVoucher'),\n          options: yesNoItems,\n          control: control,\n          getFormErrorMessage: getFormErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(InputNumberController, {\n          id: \"useLimitPerOrder\",\n          label: t('pos.limitOnOrder'),\n          control: control,\n          getFormErrorMessage: getFormErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(InputNumberController, {\n          id: \"useLimitPerCustomer\",\n          label: t('pos.limitOnCustomer'),\n          control: control,\n          getFormErrorMessage: getFormErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(InputNumberController, {\n          id: \"useLimitPerPromotion\",\n          label: t('pos.limitOnPromo'),\n          control: control,\n          getFormErrorMessage: getFormErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(Header, \"1ti2fHwKc83xMfi7BXryou/otUU=\", false, function () {\n  return [useTranslation];\n});\n\n_c = Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["D:/eway/src/pages/Promotion/CreatePromotion/header.js"],"names":["React","useState","useEffect","useContext","useTranslation","CommonService","UserProfileContext","ToastContext","DropdownController","InputTextController","InputNumberController","CalendarController","Header","props","control","errors","t","userProfile","toast","yesNoItems","name","code","commonService","getProductStores","info","partyId","then","data","values","productStoreList","forEach","element","value","push","setListProductStoreId","catch","err","current","show","severity","summary","detail","response","life","listProductStoreId","getFormErrorMessage","message"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,cAAT,QAA+B,eAA/B;AAEA,SAASC,aAAT,QAA8B,gCAA9B;AAEA,SAASC,kBAAT,QAAmC,cAAnC;AACA,SAASC,YAAT,QAA6B,cAA7B;AAEA,SAASC,kBAAT,QAAmC,2DAAnC;AACA,SAASC,mBAAT,QAAoC,4DAApC;AACA,SAASC,qBAAT,QAAsC,8DAAtC;AACA,SAASC,kBAAT,QAAmC,2DAAnC;;;AAEA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAW;AAAA;;AAC7B,MAAQC,OAAR,GAA4BD,KAA5B,CAAQC,OAAR;AAAA,MAAiBC,MAAjB,GAA4BF,KAA5B,CAAiBE,MAAjB;;AACA,wBAAYX,cAAc,CAAC,QAAD,CAA1B;AAAA;AAAA,MAAOY,CAAP;;AAEA,MAAMC,WAAW,GAAGd,UAAU,CAACG,kBAAD,CAA9B;AACA,MAAMY,KAAK,GAAGf,UAAU,CAACI,YAAD,CAAxB;AAEA,MAAMY,UAAU,GAAG,CACf;AAAEC,IAAAA,IAAI,EAAEJ,CAAC,CAAC,KAAD,CAAT;AAAkBK,IAAAA,IAAI,EAAE;AAAxB,GADe,EAEf;AAAED,IAAAA,IAAI,EAAEJ,CAAC,CAAC,IAAD,CAAT;AAAiBK,IAAAA,IAAI,EAAE;AAAvB,GAFe,CAAnB;AAKAnB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMoB,aAAa,GAAG,IAAIjB,aAAJ,EAAtB;AACAiB,IAAAA,aAAa,CAACC,gBAAd,CAA+BN,WAAW,CAACO,IAAZ,CAAiBC,OAAhD,EAAyDC,IAAzD,CAA8D,UAACC,IAAD,EAAU;AACpE,UAAIC,MAAM,GAAG,EAAb;AACAD,MAAAA,IAAI,CAACE,gBAAL,CAAsBC,OAAtB,CAA8B,UAAAC,OAAO,EAAI;AACrC,YAAIC,KAAK,GAAG;AACRZ,UAAAA,IAAI,EAAEW,OAAO,CAAC,gBAAD,CADL;AAERV,UAAAA,IAAI,EAAEU,OAAO,CAAC,gBAAD;AAFL,SAAZ;AAIAH,QAAAA,MAAM,CAACK,IAAP,CAAYD,KAAZ;AACH,OAND;AAOAE,MAAAA,qBAAqB,CAACN,MAAD,CAArB;AACH,KAVD,EAWCO,KAXD,CAWO,UAAAC,GAAG,EAAI;AACVlB,MAAAA,KAAK,CAACmB,OAAN,CAAcC,IAAd,CAAmB;AAAEC,QAAAA,QAAQ,EAAE,OAAZ;AAAqBC,QAAAA,OAAO,EAAE,eAA9B;AAA+CC,QAAAA,MAAM,EAAEL,GAAG,CAACM,QAAJ,CAAaf,IAAb,CAAkBZ,MAAzE;AAAiF4B,QAAAA,IAAI,EAAE;AAAvF,OAAnB;AACH,KAbD,EAFY,CAgBZ;AACH,GAjBQ,EAiBN,EAjBM,CAAT;;AAoBA,kBAAoD1C,QAAQ,CAAC,EAAD,CAA5D;AAAA;AAAA,MAAO2C,kBAAP;AAAA,MAA2BV,qBAA3B;;AAEA,MAAMW,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACzB,IAAD,EAAU;AAAA;;AAClC,WAAOL,MAAM,CAACK,IAAD,CAAN,iBAAgB;AAAO,MAAA,SAAS,EAAC,SAAjB;AAAA,gCAA4BL,MAAM,CAACK,IAAD,CAAlC,iDAA4B,aAAc0B;AAA1C;AAAA;AAAA;AAAA;AAAA,aAAvB;AACH,GAFD;;AAIA,sBACI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,gCACI,QAAC,mBAAD;AAAqB,UAAA,EAAE,EAAC,iBAAxB;AAA0C,UAAA,KAAK,EAAE9B,CAAC,CAAC,eAAD,CAAlD;AAAqE,UAAA,QAAQ,MAA7E;AACI,UAAA,OAAO,EAAEF,OADb;AACsB,UAAA,mBAAmB,EAAE+B;AAD3C;AAAA;AAAA;AAAA;AAAA,iBADJ,eAII,QAAC,kBAAD;AAAoB,UAAA,EAAE,EAAC,gBAAvB;AAAwC,UAAA,KAAK,EAAE7B,CAAC,CAAC,cAAD,CAAhD;AAAkE,UAAA,QAAQ,MAA1E;AACI,UAAA,OAAO,EAAE4B,kBADb;AACiC,UAAA,OAAO,EAAE9B,OAD1C;AACmD,UAAA,mBAAmB,EAAE+B;AADxE;AAAA;AAAA;AAAA;AAAA,iBAJJ,eAOI,QAAC,kBAAD;AAAoB,UAAA,EAAE,EAAC,UAAvB;AAAkC,UAAA,KAAK,EAAE7B,CAAC,CAAC,eAAD,CAA1C;AAA6D,UAAA,QAAQ,MAArE;AAAsE,UAAA,QAAQ,MAA9E;AAA+E,UAAA,aAAa,MAA5F;AAA6F,UAAA,OAAO,EAAEF,OAAtG;AAA+G,UAAA,mBAAmB,EAAE+B;AAApI;AAAA;AAAA;AAAA;AAAA,iBAPJ,eASI,QAAC,kBAAD;AAAoB,UAAA,EAAE,EAAC,UAAvB;AAAkC,UAAA,KAAK,EAAE7B,CAAC,CAAC,aAAD,CAA1C;AAA2D,UAAA,QAAQ,MAAnE;AAAoE,UAAA,aAAa,MAAjF;AAAkF,UAAA,OAAO,EAAEF,OAA3F;AAAoG,UAAA,mBAAmB,EAAE+B;AAAzH;AAAA;AAAA;AAAA;AAAA,iBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAYI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,gCACI,QAAC,mBAAD;AAAqB,UAAA,EAAE,EAAC,aAAxB;AAAsC,UAAA,KAAK,EAAE7B,CAAC,CAAC,uBAAD,CAA9C;AAAyE,UAAA,OAAO,EAAEF,OAAlF;AAA2F,UAAA,mBAAmB,EAAE+B;AAAhH;AAAA;AAAA;AAAA;AAAA,iBADJ,eAGI,QAAC,kBAAD;AAAoB,UAAA,EAAE,EAAC,aAAvB;AAAqC,UAAA,KAAK,EAAE7B,CAAC,CAAC,oBAAD,CAA7C;AAAqE,UAAA,OAAO,EAAEG,UAA9E;AAA0F,UAAA,OAAO,EAAEL,OAAnG;AAA4G,UAAA,mBAAmB,EAAE+B;AAAjI;AAAA;AAAA;AAAA;AAAA,iBAHJ,eAKI,QAAC,qBAAD;AAAuB,UAAA,EAAE,EAAC,kBAA1B;AAA6C,UAAA,KAAK,EAAE7B,CAAC,CAAC,kBAAD,CAArD;AAA2E,UAAA,OAAO,EAAEF,OAApF;AAA6F,UAAA,mBAAmB,EAAE+B;AAAlH;AAAA;AAAA;AAAA;AAAA,iBALJ,eAOI,QAAC,qBAAD;AAAuB,UAAA,EAAE,EAAC,qBAA1B;AAAgD,UAAA,KAAK,EAAE7B,CAAC,CAAC,qBAAD,CAAxD;AAAiF,UAAA,OAAO,EAAEF,OAA1F;AAAmG,UAAA,mBAAmB,EAAE+B;AAAxH;AAAA;AAAA;AAAA;AAAA,iBAPJ,eASI,QAAC,qBAAD;AAAuB,UAAA,EAAE,EAAC,sBAA1B;AAAiD,UAAA,KAAK,EAAE7B,CAAC,CAAC,kBAAD,CAAzD;AAA+E,UAAA,OAAO,EAAEF,OAAxF;AAAiG,UAAA,mBAAmB,EAAE+B;AAAtH;AAAA;AAAA;AAAA;AAAA,iBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,eAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ;AAAA,kBADJ;AA6BH,CAnEM;;GAAMjC,M;UAEGR,c;;;KAFHQ,M","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { CommonService } from '../../../service/CommonService';\r\n\r\nimport { UserProfileContext } from '../../../App';\r\nimport { ToastContext } from \"../../../App\";\r\n\r\nimport { DropdownController } from '../../../components/PromotionComponent/DropdownController'\r\nimport { InputTextController } from '../../../components/PromotionComponent/InputTextController';\r\nimport { InputNumberController } from '../../../components/PromotionComponent/InputNumberController';\r\nimport { CalendarController } from '../../../components/PromotionComponent/CalendarController';\r\n\r\nexport const Header = (props) => {\r\n    const { control, errors } = props;\r\n    const [t] = useTranslation('common');\r\n\r\n    const userProfile = useContext(UserProfileContext);\r\n    const toast = useContext(ToastContext);\r\n\r\n    const yesNoItems = [\r\n        { name: t('yes'), code: '1' },\r\n        { name: t('no'), code: '0' },\r\n    ];\r\n\r\n    useEffect(() => {\r\n        const commonService = new CommonService();\r\n        commonService.getProductStores(userProfile.info.partyId).then((data) => {\r\n            let values = [];\r\n            data.productStoreList.forEach(element => {\r\n                let value = {\r\n                    name: element['productStoreId'],\r\n                    code: element['productStoreId']\r\n                }\r\n                values.push(value);\r\n            });\r\n            setListProductStoreId(values);\r\n        })\r\n        .catch(err => {\r\n            toast.current.show({ severity: 'error', summary: 'Error Message', detail: err.response.data.errors, life: 5000 });\r\n        });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n\r\n    const [listProductStoreId, setListProductStoreId] = useState([]);\r\n\r\n    const getFormErrorMessage = (name) => {\r\n        return errors[name] && <small className=\"p-error\">{errors[name]?.message}</small>\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <hr />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-col-12 p-md-6\">\r\n                    <InputTextController id='itemDescription' label={t('pos.promoName')} checkErr\r\n                        control={control} getFormErrorMessage={getFormErrorMessage} />\r\n                    \r\n                    <DropdownController id='productStoreId' label={t('productStore')} checkErr\r\n                        options={listProductStoreId} control={control} getFormErrorMessage={getFormErrorMessage} />\r\n                    \r\n                    <CalendarController id='fromDate' label={t('pos.startDate')} checkErr showIcon showButtonBar control={control} getFormErrorMessage={getFormErrorMessage} />\r\n                    \r\n                    <CalendarController id='thruDate' label={t('pos.endDate')} showIcon showButtonBar control={control} getFormErrorMessage={getFormErrorMessage} />\r\n                </div>\r\n                <div className=\"p-col-12 p-md-6\">\r\n                    <InputTextController id='sequenceNum' label={t('promotion.sequenceNum')} control={control} getFormErrorMessage={getFormErrorMessage} />\r\n                    \r\n                    <DropdownController id='requireCode' label={t('pos.requestVoucher')} options={yesNoItems} control={control} getFormErrorMessage={getFormErrorMessage} />\r\n                    \r\n                    <InputNumberController id='useLimitPerOrder' label={t('pos.limitOnOrder')} control={control} getFormErrorMessage={getFormErrorMessage} />\r\n                    \r\n                    <InputNumberController id='useLimitPerCustomer' label={t('pos.limitOnCustomer')} control={control} getFormErrorMessage={getFormErrorMessage} />\r\n                    \r\n                    <InputNumberController id='useLimitPerPromotion' label={t('pos.limitOnPromo')} control={control} getFormErrorMessage={getFormErrorMessage} />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}